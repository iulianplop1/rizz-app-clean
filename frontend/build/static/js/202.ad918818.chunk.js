"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[202],{2202:(e,a,s)=>{s.r(a),s.d(a,{default:()=>c});var t=s(5043),n=s(6516),r=s(7839),i=s(4344),l=s(5666),o=s(579);const c=()=>{var e;const[a,s]=(0,t.useState)({name:"",gender:"",age:"",interests:[],personality:[],bio:""}),[c,x]=(0,t.useState)({geminiApiKey:"",instagramBusinessId:"",telegramBotToken:"",telegramChatId:""}),[d,p]=(0,t.useState)({autoExtractPreferences:!0,autoGenerateReplies:!1,sendTelegramNotifications:!0,enableWebhook:!0,maxMessagesPerProfile:50,aiTemperature:.7,defaultTone:"flirty"}),[g,u]=(0,t.useState)(!1),[h,f]=(0,t.useState)(!1),[m,j]=(0,t.useState)({type:"",message:""}),[y,b]=(0,t.useState)("profile");(0,t.useEffect)(()=>{v()},[]);const v=async()=>{try{const e=await i.Ay.get("https://3e79a6ace678.ngrok-free.app/api/user");s(e.data);const a=await i.Ay.get("https://3e79a6ace678.ngrok-free.app/api/settings");a.data&&(x(a.data.apiKeys||{}),p(a.data.preferences||{}))}catch(e){console.error("Error fetching settings:",e)}},A=async()=>{f(!0),j({type:"",message:""});try{await i.Ay.put("https://3e79a6ace678.ngrok-free.app/api/user",a),await i.Ay.put("https://3e79a6ace678.ngrok-free.app/api/settings",{apiKeys:c,preferences:d}),j({type:"success",message:"Settings saved successfully!"})}catch(e){console.error("Error saving settings:",e),j({type:"error",message:"Failed to save settings. Please try again."})}finally{f(!1)}};return(0,o.jsxs)(n.azJ,{sx:{minHeight:"100vh",background:"none",fontFamily:"Inter, -apple-system, BlinkMacSystemFont, sans-serif",color:"var(--text-primary)"},children:[(0,o.jsx)(n.mcf,{maxWidth:"xl",sx:{pt:4,pb:2},children:(0,o.jsx)(n.azJ,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:4,gap:3,flexWrap:"wrap"},children:(0,o.jsxs)(n.azJ,{sx:{display:"flex",alignItems:"center",gap:3},children:[(0,o.jsx)(n.euF,{sx:{width:56,height:56,fontWeight:600,fontSize:28,bgcolor:"var(--accent-blue)"},children:(null===(e=a.name)||void 0===e?void 0:e[0])||"?"}),(0,o.jsxs)(n.azJ,{children:[(0,o.jsx)(n.o5u,{variant:"h3",sx:{fontWeight:700,fontSize:32,letterSpacing:"-0.025em",color:"var(--text-primary)"},children:"Settings"}),(0,o.jsxs)(l.Ay,{"aria-label":"breadcrumb",sx:{fontSize:14,color:"var(--text-secondary)"},children:[(0,o.jsx)("span",{children:"Home"}),(0,o.jsx)("span",{children:"Settings"}),(0,o.jsx)("span",{sx:{color:"var(--accent-blue)"},children:"profile"===y?"Profile & Account":"integrations"===y?"Integrations & APIs":"Preferences & Notifications"})]})]})]})})}),(0,o.jsxs)(n.mcf,{maxWidth:"xl",sx:{display:"flex",gap:4,minHeight:"70vh"},children:[(0,o.jsxs)(n.azJ,{sx:{width:280,flexShrink:0,bgcolor:"rgba(255,255,255,0.95)",borderRadius:3,boxShadow:"0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)",p:3,display:{xs:"none",md:"flex"},flexDirection:"column",gap:2,height:"fit-content",mt:2},children:[(0,o.jsxs)(n.azJ,{sx:{display:"flex",alignItems:"center",gap:2,p:2,borderRadius:2,cursor:"pointer",bgcolor:"profile"===y?"var(--background-secondary)":"transparent",fontWeight:"profile"===y?600:500,color:"profile"===y?"var(--accent-blue)":"var(--text-secondary)",transition:"all 0.2s","&:hover":{bgcolor:"var(--background-secondary)",color:"var(--accent-blue)",transform:"scale(1.02)"}},onClick:()=>b("profile"),children:[(0,o.jsx)(r._Au,{fontSize:"medium"})," Profile & Account"]}),(0,o.jsxs)(n.azJ,{sx:{display:"flex",alignItems:"center",gap:2,p:2,borderRadius:2,cursor:"pointer",bgcolor:"integrations"===y?"var(--background-secondary)":"transparent",fontWeight:"integrations"===y?600:500,color:"integrations"===y?"var(--accent-blue)":"var(--text-secondary)",transition:"all 0.2s","&:hover":{bgcolor:"var(--background-secondary)",color:"var(--accent-blue)",transform:"scale(1.02)"}},onClick:()=>b("integrations"),children:[(0,o.jsx)(r.Uzy,{fontSize:"medium"})," Integrations & APIs"]}),(0,o.jsxs)(n.azJ,{sx:{display:"flex",alignItems:"center",gap:2,p:2,borderRadius:2,cursor:"pointer",bgcolor:"preferences"===y?"var(--background-secondary)":"transparent",fontWeight:"preferences"===y?600:500,color:"preferences"===y?"var(--accent-blue)":"var(--text-secondary)",transition:"all 0.2s","&:hover":{bgcolor:"var(--background-secondary)",color:"var(--accent-blue)",transform:"scale(1.02)"}},onClick:()=>b("preferences"),children:[(0,o.jsx)(r.$0s,{fontSize:"medium"})," Preferences & Notifications"]})]}),(0,o.jsxs)(n.azJ,{sx:{flex:1,minWidth:0,display:"grid",gridTemplateColumns:"1fr",gap:4,pb:8},children:["profile"===y&&(0,o.jsxs)(n.ZpM,{sx:{borderRadius:3,p:4,boxShadow:"0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)"},children:[(0,o.jsx)(n.aRn,{title:"User Profile"}),(0,o.jsxs)(n.Wux,{children:[(0,o.jsxs)(n.xA9,{container:!0,spacing:2,children:[(0,o.jsx)(n.xA9,{item:!0,xs:12,children:(0,o.jsx)(n.A_L,{fullWidth:!0,label:"Name",value:a.name,onChange:e=>s({...a,name:e.target.value})})}),(0,o.jsx)(n.xA9,{item:!0,xs:6,children:(0,o.jsx)(n.A_L,{fullWidth:!0,label:"Gender",value:a.gender,onChange:e=>s({...a,gender:e.target.value}),placeholder:"male/female"})}),(0,o.jsx)(n.xA9,{item:!0,xs:6,children:(0,o.jsx)(n.A_L,{fullWidth:!0,label:"Age",type:"number",value:a.age,onChange:e=>s({...a,age:e.target.value})})}),(0,o.jsx)(n.xA9,{item:!0,xs:12,children:(0,o.jsx)(n.A_L,{fullWidth:!0,multiline:!0,rows:3,label:"Bio",value:a.bio,onChange:e=>s({...a,bio:e.target.value}),placeholder:"Tell us about yourself..."})})]}),(a.interests||[]).map((e,t)=>(0,o.jsxs)(n.azJ,{sx:{display:"flex",gap:1,mb:1},children:[(0,o.jsx)(n.A_L,{fullWidth:!0,size:"small",value:e,onChange:e=>((e,t)=>{const n=[...a.interests];n[e]=t,s({...a,interests:n})})(t,e.target.value),placeholder:"e.g., fitness, travel, music"}),(0,o.jsx)(n.$nd,{size:"small",variant:"outlined",color:"error",onClick:()=>(e=>{const t=a.interests.filter((a,s)=>s!==e);s({...a,interests:t})})(t),children:"Remove"})]},t)),(a.personality||[]).map((e,t)=>(0,o.jsxs)(n.azJ,{sx:{display:"flex",gap:1,mb:1},children:[(0,o.jsx)(n.A_L,{fullWidth:!0,size:"small",value:e,onChange:e=>((e,t)=>{const n=[...a.personality];n[e]=t,s({...a,personality:n})})(t,e.target.value),placeholder:"e.g., funny, confident, adventurous"}),(0,o.jsx)(n.$nd,{size:"small",variant:"outlined",color:"error",onClick:()=>(e=>{const t=a.personality.filter((a,s)=>s!==e);s({...a,personality:t})})(t),children:"Remove"})]},t)),(0,o.jsx)(n.azJ,{sx:{display:"flex",justifyContent:"flex-end",mt:4},children:(0,o.jsx)(n.$nd,{variant:"contained",size:"large",onClick:A,disabled:h,startIcon:(0,o.jsx)(r.eMP,{}),children:h?"Saving...":"Save All Settings"})})]})]}),"integrations"===y&&(0,o.jsxs)(n.ZpM,{sx:{borderRadius:3,p:4,boxShadow:"0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)"},children:[(0,o.jsx)(n.aRn,{title:"API Keys & Preferences",action:(0,o.jsx)(n.K0,{onClick:()=>u(!g),children:g?(0,o.jsx)(r.QM4,{}):(0,o.jsx)(r.bvC,{})})}),(0,o.jsx)(n.Wux,{children:(0,o.jsxs)(n.xA9,{container:!0,spacing:2,children:[(0,o.jsxs)(n.xA9,{item:!0,xs:12,children:[(0,o.jsx)(n.A_L,{fullWidth:!0,label:"Gemini API Key",type:g?"text":"password",value:c.geminiApiKey,onChange:e=>x({...c,geminiApiKey:e.target.value}),placeholder:"AIzaSy...",InputProps:{endAdornment:(0,o.jsx)(n.jC1,{position:"end",children:(0,o.jsx)(n.m_M,{title:"Test API Key",children:(0,o.jsx)(n.K0,{onClick:async()=>{if(c.geminiApiKey){f(!0);try{await i.Ay.post("https://3e79a6ace678.ngrok-free.app/api/test-gemini",{apiKey:c.geminiApiKey});j({type:"success",message:"API key is valid! Gemini connection successful."})}catch(e){j({type:"error",message:"Invalid API key or connection failed. Please check your key."})}finally{f(!1)}}else j({type:"error",message:"Please enter your Gemini API key first."})},disabled:h,children:(0,o.jsx)(r.C42,{})})})})}}),(0,o.jsxs)(n.o5u,{variant:"caption",color:"text.secondary",children:["Get your API key from ",(0,o.jsx)("a",{href:"https://makersuite.google.com/app/apikey",target:"_blank",rel:"noopener",children:"Google AI Studio"})]})]}),(0,o.jsxs)(n.xA9,{item:!0,xs:12,children:[(0,o.jsx)(n.A_L,{fullWidth:!0,label:"Instagram Business Account ID",value:c.instagramBusinessId,onChange:e=>x({...c,instagramBusinessId:e.target.value}),placeholder:"17841409306000875"}),(0,o.jsx)(n.o5u,{variant:"caption",color:"text.secondary",children:"Your Instagram Business Account ID for webhook integration"})]}),(0,o.jsx)(n.xA9,{item:!0,xs:12,sx:{display:"flex",justifyContent:"flex-end",mt:4},children:(0,o.jsx)(n.$nd,{variant:"contained",size:"large",onClick:A,disabled:h,startIcon:(0,o.jsx)(r.eMP,{}),children:h?"Saving...":"Save API Settings"})})]})})]}),"preferences"===y&&(0,o.jsxs)(n.ZpM,{sx:{borderRadius:3,p:4,boxShadow:"0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)"},children:[(0,o.jsx)(n.aRn,{title:"Preferences & Notifications"}),(0,o.jsxs)(n.Wux,{children:[(0,o.jsxs)(n.xA9,{container:!0,spacing:2,children:[(0,o.jsx)(n.xA9,{item:!0,xs:12,children:(0,o.jsx)(n.o5u,{variant:"h6",gutterBottom:!0,children:"Preferences"})}),(0,o.jsx)(n.xA9,{item:!0,xs:12,children:(0,o.jsx)(n.ip9,{control:(0,o.jsx)(n.dOG,{checked:d.autoExtractPreferences,onChange:e=>p({...d,autoExtractPreferences:e.target.checked})}),label:"Auto-extract preferences from messages"})}),(0,o.jsx)(n.xA9,{item:!0,xs:12,children:(0,o.jsx)(n.ip9,{control:(0,o.jsx)(n.dOG,{checked:d.autoGenerateReplies,onChange:e=>p({...d,autoGenerateReplies:e.target.checked})}),label:"Auto-generate AI replies"})}),(0,o.jsx)(n.xA9,{item:!0,xs:12,children:(0,o.jsx)(n.ip9,{control:(0,o.jsx)(n.dOG,{checked:d.sendTelegramNotifications,onChange:e=>p({...d,sendTelegramNotifications:e.target.checked})}),label:"Send Telegram notifications"})}),(0,o.jsx)(n.xA9,{item:!0,xs:12,children:(0,o.jsx)(n.ip9,{control:(0,o.jsx)(n.dOG,{checked:d.enableWebhook,onChange:e=>p({...d,enableWebhook:e.target.checked})}),label:"Enable Instagram webhook"})}),(0,o.jsx)(n.xA9,{item:!0,xs:6,children:(0,o.jsx)(n.A_L,{fullWidth:!0,label:"Max Messages per Profile",type:"number",value:d.maxMessagesPerProfile,onChange:e=>p({...d,maxMessagesPerProfile:parseInt(e.target.value)})})}),(0,o.jsx)(n.xA9,{item:!0,xs:6,children:(0,o.jsx)(n.A_L,{fullWidth:!0,label:"AI Temperature",type:"number",inputProps:{step:.1,min:0,max:1},value:d.aiTemperature,onChange:e=>p({...d,aiTemperature:parseFloat(e.target.value)})})}),(0,o.jsx)(n.xA9,{item:!0,xs:12,children:(0,o.jsxs)(n.A_L,{fullWidth:!0,select:!0,label:"Default Tone",value:d.defaultTone,onChange:e=>p({...d,defaultTone:e.target.value}),children:[(0,o.jsx)("option",{value:"flirty",children:"Flirty"}),(0,o.jsx)("option",{value:"playful",children:"Playful"}),(0,o.jsx)("option",{value:"serious",children:"Serious"}),(0,o.jsx)("option",{value:"witty",children:"Witty"}),(0,o.jsx)("option",{value:"romantic",children:"Romantic"}),(0,o.jsx)("option",{value:"casual",children:"Casual"})]})})]}),(0,o.jsx)(n.azJ,{sx:{display:"flex",justifyContent:"flex-end",mt:4},children:(0,o.jsx)(n.$nd,{variant:"contained",size:"large",onClick:A,disabled:h,startIcon:(0,o.jsx)(r.eMP,{}),children:h?"Saving...":"Save All Settings"})})]})]})]})]})]})}}}]);
//# sourceMappingURL=202.ad918818.chunk.js.map