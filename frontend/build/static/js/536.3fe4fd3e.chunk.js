"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[536],{1536:(e,t,r)=>{r.r(t),r.d(t,{default:()=>u});var s=r(5043),a=r(6516),o=r(7839),i=r(4344),n=r(2857),l=r(2965),c=r(6446),d=r(579);const x=e=>{let{onSave:t}=e;const[r,o]=(0,s.useState)({name:"",likes:[],personality:[],details:{},difficulty:"medium",description:""}),[i,n]=(0,s.useState)(""),[l,c]=(0,s.useState)(""),x=()=>{i.trim()&&!r.likes.includes(i.trim())&&(o({...r,likes:[...r.likes,i.trim()]}),n(""))},u=()=>{l.trim()&&!r.personality.includes(l.trim())&&(o({...r,personality:[...r.personality,l.trim()]}),c(""))};return(0,d.jsxs)(a.azJ,{sx:{pt:1},children:[(0,d.jsxs)(a.xA9,{container:!0,spacing:2,children:[(0,d.jsx)(a.xA9,{item:!0,xs:12,children:(0,d.jsx)(a.A_L,{fullWidth:!0,label:"Personality Name",value:r.name,onChange:e=>o({...r,name:e.target.value})})}),(0,d.jsx)(a.xA9,{item:!0,xs:12,children:(0,d.jsx)(a.A_L,{fullWidth:!0,multiline:!0,rows:2,label:"Description",value:r.description,onChange:e=>o({...r,description:e.target.value})})}),(0,d.jsxs)(a.xA9,{item:!0,xs:12,md:6,children:[(0,d.jsx)(a.o5u,{variant:"subtitle2",gutterBottom:!0,children:"Likes & Interests"}),(0,d.jsxs)(a.azJ,{sx:{display:"flex",gap:1,mb:1},children:[(0,d.jsx)(a.A_L,{size:"small",placeholder:"Add interest...",value:i,onChange:e=>n(e.target.value),onKeyPress:e=>"Enter"===e.key&&x()}),(0,d.jsx)(a.$nd,{size:"small",onClick:x,children:"Add"})]}),(0,d.jsx)(a.azJ,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:r.likes.map((e,t)=>(0,d.jsx)(a.vu3,{label:e,onDelete:()=>(e=>{o({...r,likes:r.likes.filter(t=>t!==e)})})(e),color:"primary"},t))})]}),(0,d.jsxs)(a.xA9,{item:!0,xs:12,md:6,children:[(0,d.jsx)(a.o5u,{variant:"subtitle2",gutterBottom:!0,children:"Personality Traits"}),(0,d.jsxs)(a.azJ,{sx:{display:"flex",gap:1,mb:1},children:[(0,d.jsx)(a.A_L,{size:"small",placeholder:"Add trait...",value:l,onChange:e=>c(e.target.value),onKeyPress:e=>"Enter"===e.key&&u()}),(0,d.jsx)(a.$nd,{size:"small",onClick:u,children:"Add"})]}),(0,d.jsx)(a.azJ,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:r.personality.map((e,t)=>(0,d.jsx)(a.vu3,{label:e,onDelete:()=>(e=>{o({...r,personality:r.personality.filter(t=>t!==e)})})(e),color:"secondary"},t))})]}),(0,d.jsx)(a.xA9,{item:!0,xs:12,children:(0,d.jsxs)(a.MJN,{fullWidth:!0,children:[(0,d.jsx)(a.l1Y,{children:"Difficulty"}),(0,d.jsxs)(a.l6P,{value:r.difficulty,label:"Difficulty",onChange:e=>o({...r,difficulty:e.target.value}),children:[(0,d.jsx)(a.Drp,{value:"easy",children:"Easy"}),(0,d.jsx)(a.Drp,{value:"medium",children:"Medium"}),(0,d.jsx)(a.Drp,{value:"hard",children:"Hard"})]})]})})]}),(0,d.jsxs)(a.azJ,{sx:{mt:3,display:"flex",justifyContent:"flex-end",gap:1},children:[(0,d.jsx)(a.$nd,{variant:"outlined",onClick:()=>t(null),children:"Cancel"}),(0,d.jsx)(a.$nd,{variant:"contained",onClick:()=>t(r),disabled:!r.name.trim(),children:"Create Personality"})]})]})},u=()=>{const[e,t]=(0,s.useState)([]),[r,u]=(0,s.useState)(null),[p,h]=(0,s.useState)(null),[g,m]=(0,s.useState)([]),[f,y]=(0,s.useState)(""),[b,v]=(0,s.useState)(!1),[j,S]=(0,s.useState)("practice"),[k,z]=(0,s.useState)("medium"),[C,A]=(0,s.useState)(""),[w,I]=(0,s.useState)(!1),[W,P]=(0,s.useState)(!1),[J,R]=(0,s.useState)(!1),[M,D]=(0,s.useState)({messagesSent:0,responsesReceived:0,practiceTime:0,successRate:0}),[E,O]=(0,s.useState)(""),[T,N]=(0,s.useState)(!1),B=(0,c.Zp)();(0,s.useEffect)(()=>{console.log("ConversationSimulator useEffect - fetching profiles and loading stats"),H(),G(),_()},[]),(0,s.useEffect)(()=>{console.log("State changed - isSimulating:",b,"selectedPersonality:",null===r||void 0===r?void 0:r.name)},[b,r]);const H=async()=>{try{console.log("Fetching profiles...");const e=await i.Ay.get("https://3e79a6ace678.ngrok-free.app/api/profiles");console.log("Profiles fetched:",e.data.length,"profiles"),t(e.data)}catch(e){console.error("Error fetching profiles:",e)}},G=()=>{const e=localStorage.getItem("simulatorStats");e&&D(JSON.parse(e))},L=async e=>{if(console.log("Starting simulation with personality:",e),!e)return void console.log("Cannot start simulation - no personality provided");u(e),m([]),v(!0),A("");const t=$(e);m([{from:"AI",text:t,timestamp:(new Date).toLocaleTimeString()}]),console.log("Simulation started - isSimulating should be true")},$=e=>{const t=["Hey! How are you doing? \ud83d\ude0a","Hi there! What's up?","Hey! Nice to hear from you","Hello! How's your day going?","Hi! What are you up to? \ud83d\ude04"];return t[Math.floor(Math.random()*t.length)]},_=async()=>{try{const e=await i.Ay.get("https://3e79a6ace678.ngrok-free.app/api/settings");O(e.data.gemini_api_key||"")}catch(e){console.error("Error fetching settings:",e)}},Y=async()=>{if(!f.trim()||!r)return;if(!E)return void N(!0);const e=f;y(""),I(!0);const t=[...g,{from:"You",text:e,timestamp:(new Date).toLocaleTimeString()}];m(t);try{const s=r.difficulty||k;console.log("Using difficulty:",s,"(personality difficulty:",r.difficulty,", global difficulty:",k,")");const a={personality:r,userMessage:e,conversationHistory:t,difficulty:s,mode:j};console.log("Sending request to backend:",a);const o=await i.Ay.post("https://3e79a6ace678.ngrok-free.app/api/simulate-conversation",a);console.log("AI Response:",o.data),console.log("Response status:",o.status),console.log("Response headers:",o.headers);const n=o.data.response;console.log("Extracted AI Response:",n),console.log("AI Response type:",typeof n),console.log("AI Response length:",n?n.length:"null"),A(n);const l={from:"AI",text:n,timestamp:(new Date).toLocaleTimeString()};console.log("AI message object:",l);const c=[...t,l];console.log("Updated messages array:",c),console.log("Messages array length:",c.length),m(c),console.log("setMessages called with:",c.length,"messages");(e=>{D(e),localStorage.setItem("simulatorStats",JSON.stringify(e))})({...M,messagesSent:M.messagesSent+1,responsesReceived:M.responsesReceived+1}),console.log("After successful AI response - isSimulating:",b),console.log("After successful AI response - selectedPersonality:",r),console.log("After successful AI response - messages count:",g.length),setTimeout(()=>{console.log("After 100ms - isSimulating:",b),console.log("After 100ms - selectedPersonality:",r),console.log("After 100ms - messages count:",g.length)},100)}catch(s){console.error("Error generating AI response:",s),console.log("Current isSimulating state:",b),console.log("Current selectedPersonality:",r),A("Sorry, I encountered an error. Please try again.")}finally{I(!1),console.log("After finally - isSimulating:",b),console.log("After finally - selectedPersonality:",r)}},F=e=>{switch(e){case"easy":return"success";case"medium":return"warning";case"hard":return"error";default:return"default"}};return(0,d.jsxs)(a.mcf,{maxWidth:"xl",sx:{py:4,fontFamily:"Inter, SF Pro Display, -apple-system, BlinkMacSystemFont, Segoe UI, sans-serif"},children:[(0,d.jsxs)(a.azJ,{sx:{display:"flex",alignItems:{xs:"flex-start",sm:"center"},mb:4,gap:2,flexWrap:"wrap",justifyContent:"space-between"},children:[(0,d.jsxs)(a.azJ,{children:[(0,d.jsxs)(a.azJ,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,d.jsx)(o.NoT,{sx:{fontSize:40,color:"primary.main"}}),(0,d.jsx)(a.o5u,{variant:"h3",component:"h1",sx:{fontWeight:800,fontSize:{xs:28,md:32},color:"var(--text-primary)"},children:"Conversation Simulator"})]}),(0,d.jsx)(a.o5u,{variant:"body1",color:"text.secondary",sx:{mt:1,fontSize:16,fontWeight:400},children:"Practice conversations with AI-generated personalities based on your real conversations. Perfect for testing different approaches in a safe environment!"})]}),(0,d.jsxs)(a.tu9,{className:"card",sx:{display:"flex",alignItems:"center",gap:2,px:3,py:1.5,borderRadius:3,boxShadow:"0 2px 8px rgba(0,0,0,0.10)",background:"var(--card-bg)",color:"var(--text-primary)",minWidth:0,mt:{xs:2,sm:0},width:"auto",flexWrap:"wrap"},children:[(0,d.jsxs)(a.azJ,{sx:{display:"flex",alignItems:"center",gap:.5},children:[(0,d.jsx)(o.ntg,{sx:{color:"#2563EB",fontSize:20}}),(0,d.jsx)(a.o5u,{variant:"caption",sx:{color:"var(--text-secondary)",fontWeight:600,fontSize:14},children:"Stats"})]}),(0,d.jsx)(a.cGx,{orientation:"vertical",flexItem:!0,sx:{mx:1,height:24,borderColor:"#e5e7eb"}}),(0,d.jsxs)(a.azJ,{sx:{display:"flex",alignItems:"center",gap:.5},children:[(0,d.jsx)(a.o5u,{variant:"caption",sx:{color:"var(--text-secondary)"},children:"Sent"}),(0,d.jsx)(a.o5u,{variant:"body2",sx:{fontWeight:600,fontSize:15},children:M.messagesSent})]}),(0,d.jsx)(a.cGx,{orientation:"vertical",flexItem:!0,sx:{mx:1,height:24,borderColor:"#e5e7eb"}}),(0,d.jsxs)(a.azJ,{sx:{display:"flex",alignItems:"center",gap:.5},children:[(0,d.jsx)(a.o5u,{variant:"caption",sx:{color:"var(--text-secondary)"},children:"Resp"}),(0,d.jsx)(a.o5u,{variant:"body2",sx:{fontWeight:600,fontSize:15},children:M.responsesReceived})]}),(0,d.jsx)(a.cGx,{orientation:"vertical",flexItem:!0,sx:{mx:1,height:24,borderColor:"#e5e7eb"}}),(0,d.jsxs)(a.azJ,{sx:{display:"flex",alignItems:"center",gap:.5},children:[(0,d.jsx)(a.o5u,{variant:"caption",sx:{color:"var(--text-secondary)"},children:"Time"}),(0,d.jsxs)(a.o5u,{variant:"body2",sx:{fontWeight:600,fontSize:15},children:[Math.floor(M.practiceTime/60),"m ",M.practiceTime%60,"s"]})]}),(0,d.jsx)(a.cGx,{orientation:"vertical",flexItem:!0,sx:{mx:1,height:24,borderColor:"#e5e7eb"}}),(0,d.jsxs)(a.azJ,{sx:{display:"flex",alignItems:"center",gap:.5},children:[(0,d.jsx)(a.o5u,{variant:"caption",sx:{color:"var(--text-secondary)"},children:"Success"}),(0,d.jsxs)(a.o5u,{variant:"body2",sx:{fontWeight:600,fontSize:15},children:[M.successRate,"%"]})]})]})]}),(0,d.jsxs)(a.azJ,{sx:{display:"flex",gap:4,alignItems:"flex-start",minHeight:"70vh"},children:[(0,d.jsxs)(a.azJ,{sx:{flex:"0 0 40%",minWidth:320,maxWidth:420,display:"flex",flexDirection:"column",gap:3},children:[(0,d.jsxs)(a.tu9,{className:"card",sx:{p:3,borderRadius:3,boxShadow:"0 2px 8px rgba(0,0,0,0.10)",mb:0,transition:"box-shadow 0.2s",background:"var(--card-bg)",color:"var(--text-primary)"},children:[(0,d.jsx)(a.o5u,{variant:"h5",sx:{fontWeight:700,fontSize:20,mb:2,color:"var(--text-primary)"},children:"Choose Personality"}),(0,d.jsxs)(a.xA9,{container:!0,spacing:2,children:[(0,d.jsx)(a.xA9,{item:!0,xs:6,children:(0,d.jsx)(a.ZpM,{className:"card",sx:{p:2,borderRadius:2,boxShadow:"0 2px 8px rgba(0,0,0,0.10)",cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s","&:hover":{transform:"scale(1.02)",boxShadow:"0 4px 16px rgba(108,99,255,0.10)"},border:"Composite Girl"===(null===r||void 0===r?void 0:r.name)?"2px solid #2563EB":"1px solid #e5e7eb",background:"var(--card-bg)",color:"var(--text-primary)"},onClick:()=>{const t=(()=>{if(console.log("Generating personality from profiles. Profiles count:",e.length),0===e.length)return console.log("No profiles found, returning null"),null;const t=[],r=[],s={};e.forEach(e=>{e.likes&&t.push(...e.likes),e.personality_tags&&r.push(...e.personality_tags),e.details&&Object.assign(s,e.details)});const a={},o={};return t.forEach(e=>{a[e]=(a[e]||0)+1}),r.forEach(e=>{o[e]=(o[e]||0)+1}),{name:"Composite Girl",likes:Object.entries(a).sort((e,t)=>{let[,r]=e,[,s]=t;return s-r}).slice(0,8).map(e=>{let[t]=e;return t}),personality:Object.entries(o).sort((e,t)=>{let[,r]=e,[,s]=t;return s-r}).slice(0,6).map(e=>{let[t]=e;return t}),details:s,difficulty:"medium",description:"AI-generated personality based on your real conversations"}})();t&&L(t)},children:(0,d.jsxs)(a.Wux,{children:[(0,d.jsx)(a.o5u,{variant:"subtitle1",sx:{fontWeight:600,color:"#2563EB"},children:"\ud83c\udfaf Custom Personality"}),(0,d.jsx)(a.o5u,{variant:"body2",sx:{mb:1,color:"var(--text-secondary)"},children:"AI-generated from your real conversations"}),(0,d.jsx)(a.vu3,{size:"small",label:"Based on your girls",color:"primary"})]})})}),[{name:"Emma - The Adventurous One",likes:["travel","hiking","photography","coffee","books"],personality:["adventurous","independent","creative","curious"],difficulty:"easy",description:"Loves exploring new places and sharing experiences"},{name:"Sophia - The Intellectual",likes:["reading","philosophy","art","wine","museums"],personality:["intellectual","thoughtful","sophisticated","deep"],difficulty:"medium",description:"Enjoys deep conversations and intellectual topics"},{name:"Isabella - The Social Butterfly",likes:["parties","dancing","fashion","makeup","friends"],personality:["social","energetic","fashionable","fun-loving"],difficulty:"medium",description:"Very social and loves having fun with friends"},{name:"Olivia - The Shy One",likes:["movies","music","anime","gaming","quiet time"],personality:["shy","introverted","thoughtful","loyal"],difficulty:"hard",description:"Shy but very loyal once you get to know her"}].map((e,t)=>(0,d.jsx)(a.xA9,{item:!0,xs:6,children:(0,d.jsx)(a.ZpM,{className:"card",sx:{p:2,borderRadius:2,boxShadow:"0 2px 8px rgba(0,0,0,0.10)",cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s","&:hover":{transform:"scale(1.02)",boxShadow:"0 4px 16px rgba(108,99,255,0.10)"},border:(null===r||void 0===r?void 0:r.name)===e.name?"2px solid #2563EB":"1px solid #e5e7eb",background:"var(--card-bg)",color:"var(--text-primary)"},onClick:()=>L(e),children:(0,d.jsxs)(a.Wux,{children:[(0,d.jsxs)(a.azJ,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[(0,d.jsx)(a.o5u,{variant:"subtitle1",sx:{fontWeight:600,color:"var(--text-primary)"},children:e.name}),(0,d.jsx)(a.vu3,{size:"small",label:e.difficulty,color:F(e.difficulty),sx:{fontWeight:500,fontSize:13}})]}),(0,d.jsx)(a.o5u,{variant:"body2",sx:{mb:1,color:"var(--text-secondary)"},children:e.description}),(0,d.jsx)(a.azJ,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.likes.slice(0,3).map((e,t)=>(0,d.jsx)(a.vu3,{size:"small",label:e,variant:"outlined",sx:{borderRadius:2,fontWeight:500,color:"var(--text-primary)",borderColor:"rgba(255,255,255,0.25)"}},t))})]})})},t))]}),(0,d.jsx)(a.$nd,{fullWidth:!0,variant:"outlined",startIcon:(0,d.jsx)(o.OMN,{}),onClick:()=>{R(!0)},sx:{mt:3,borderRadius:2,fontWeight:600,fontSize:16},children:"Create Custom Personality"})]}),(0,d.jsxs)(a.tu9,{className:"card",sx:{p:3,borderRadius:3,boxShadow:"0 2px 8px rgba(0,0,0,0.10)",mt:0,background:"var(--card-bg)",color:"var(--text-primary)"},children:[(0,d.jsx)(a.o5u,{variant:"h6",sx:{fontWeight:600,fontSize:18,mb:2,color:"var(--text-primary)"},children:"Simulation Settings"}),(0,d.jsxs)(a.MJN,{fullWidth:!0,sx:{mb:2},children:[(0,d.jsx)(a.l1Y,{sx:{color:"var(--text-primary)"},children:"Mode"}),(0,d.jsxs)(a.l6P,{value:j,label:"Mode",onChange:e=>S(e.target.value),sx:{borderRadius:2,color:"var(--text-primary)","& .MuiSelect-icon":{color:"var(--text-primary)"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255,255,255,0.18)"}},MenuProps:{PaperProps:{sx:{background:"var(--card-bg)",color:"var(--text-primary)"}}},children:[(0,d.jsx)(a.Drp,{value:"practice",children:"Practice Mode"}),(0,d.jsx)(a.Drp,{value:"training",children:"Training Mode"}),(0,d.jsx)(a.Drp,{value:"advanced",children:"Advanced Mode"})]})]}),(0,d.jsxs)(a.MJN,{fullWidth:!0,sx:{mb:2},children:[(0,d.jsx)(a.l1Y,{sx:{color:"var(--text-primary)"},children:"Difficulty"}),(0,d.jsxs)(a.l6P,{value:k,label:"Difficulty",onChange:e=>z(e.target.value),sx:{borderRadius:2,color:"var(--text-primary)","& .MuiSelect-icon":{color:"var(--text-primary)"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255,255,255,0.18)"}},MenuProps:{PaperProps:{sx:{background:"var(--card-bg)",color:"var(--text-primary)"}}},children:[(0,d.jsx)(a.Drp,{value:"easy",children:"Easy"}),(0,d.jsx)(a.Drp,{value:"medium",children:"Medium"}),(0,d.jsx)(a.Drp,{value:"hard",children:"Hard"})]})]}),(0,d.jsx)(a.o5u,{variant:"body2",sx:{fontSize:15,color:"var(--text-secondary)"},children:(e=>{switch(e){case"practice":return"Free practice with AI responses";case"training":return"Guided training with tips and feedback";case"advanced":return"Advanced scenarios and challenges";default:return""}})(j)})]})]}),(0,d.jsx)(a.azJ,{sx:{flex:"0 0 60%",minWidth:340,display:"flex",flexDirection:"column",gap:3},children:(0,d.jsxs)(a.tu9,{className:"card",sx:{p:0,borderRadius:3,boxShadow:"0 2px 8px rgba(0,0,0,0.10)",height:"70vh",display:"flex",flexDirection:"column",background:"var(--card-bg)",color:"var(--text-primary)"},children:[(0,d.jsxs)(a.azJ,{sx:{p:3,borderBottom:1,borderColor:"divider",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,d.jsxs)(a.azJ,{children:[(0,d.jsx)(a.o5u,{variant:"h5",sx:{fontWeight:700,fontSize:20,color:"var(--text-primary)"},children:r?r.name:"No Simulation Active"}),r&&(0,d.jsx)(a.o5u,{variant:"body2",color:"text.secondary",sx:{fontSize:15},children:r.description})]}),(0,d.jsx)(a.azJ,{children:b?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(a.$nd,{variant:"outlined",startIcon:(0,d.jsx)(o.VG5,{}),onClick:()=>{v(!1),u(null),m([]),A("")},sx:{mr:1,borderRadius:2,fontWeight:600},children:"Stop"}),(0,d.jsx)(a.$nd,{variant:"outlined",startIcon:(0,d.jsx)(o.C42,{}),onClick:()=>{if(m([]),A(""),r){const e=$(r);m([{from:"AI",text:e,timestamp:(new Date).toLocaleTimeString()}])}},sx:{borderRadius:2,fontWeight:600},children:"Reset"})]}):(0,d.jsx)(a.$nd,{variant:"contained",startIcon:(0,d.jsx)(o.Sse,{}),disabled:!r,sx:{borderRadius:2,fontWeight:700,fontSize:16,background:"linear-gradient(90deg, #6c63ff 0%, #ff6b6b 100%)",color:"white",boxShadow:"0 4px 12px 0 rgba(108,99,255,0.08)","&:hover":{filter:"brightness(1.08)"}},children:"Start Simulation"})})]}),(0,d.jsxs)(a.azJ,{sx:{flex:1,overflow:"auto",p:3,background:"none"},children:[0===g.length?(0,d.jsxs)(a.azJ,{sx:{textAlign:"center",mt:4},children:[(0,d.jsx)(o.ryu,{sx:{fontSize:60,color:"grey.400",mb:2}}),(0,d.jsx)(a.o5u,{variant:"h6",sx:{fontWeight:600,color:"var(--text-primary)"},children:"Select a personality to start practicing"}),(0,d.jsx)(a.o5u,{variant:"body2",sx:{color:"var(--text-secondary)"},children:"Choose from predefined personalities or create a custom one"})]}):g.map((e,t)=>(0,d.jsx)(a.azJ,{sx:{mb:2,display:"flex",justifyContent:"You"===e.from?"flex-end":"flex-start",transition:"all 0.2s"},children:(0,d.jsxs)(a.tu9,{sx:{p:2,maxWidth:"70%",backgroundColor:"You"===e.from?"#2563EB":"rgba(255,255,255,0.08)",color:"You"===e.from?"white":"var(--text-primary)",borderRadius:2,boxShadow:"0 2px 8px 0 rgba(0,0,0,0.18)",border:"1px solid rgba(255,255,255,0.08)",fontSize:16,fontWeight:400,letterSpacing:"-0.01em",transition:"all 0.2s"},children:[(0,d.jsx)(a.o5u,{variant:"body1",sx:{fontSize:16,lineHeight:1.6},children:e.text}),(0,d.jsx)(a.o5u,{variant:"caption",sx:{opacity:.7},children:e.timestamp})]})},t)),w&&(0,d.jsx)(a.azJ,{sx:{display:"flex",justifyContent:"flex-start",mb:2},children:(0,d.jsxs)(a.tu9,{sx:{p:2,backgroundColor:"#f3f4f6",borderRadius:2},children:[(0,d.jsx)(a.o5u,{variant:"body2",color:"#6B7280",children:"AI is typing..."}),(0,d.jsx)(a.hZv,{sx:{mt:1}})]})})]}),(0,d.jsx)(a.azJ,{sx:{p:3,borderTop:1,borderColor:"divider",background:"none"},children:(0,d.jsxs)(a.xA9,{container:!0,spacing:2,alignItems:"center",children:[(0,d.jsx)(a.xA9,{item:!0,xs:!0,children:(0,d.jsx)(a.A_L,{fullWidth:!0,multiline:!0,rows:2,placeholder:"Type your message...",value:f,onChange:e=>y(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),Y())},disabled:!b,sx:{borderRadius:2,background:"var(--gradient-card)",color:"var(--text-primary)",fontSize:16,border:"1.5px solid rgba(255,255,255,0.18)",boxShadow:"0 2px 8px 0 rgba(0,0,0,0.10)","& .MuiOutlinedInput-root":{borderRadius:2,background:"var(--gradient-card)",color:"var(--text-primary)",border:"none",boxShadow:"none","& input::placeholder, & textarea::placeholder":{color:"#bdbdbd",opacity:1}},"& .MuiOutlinedInput-notchedOutline":{border:"none"},"& .Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#2563EB",boxShadow:"0 0 0 2px #2563EB33"}}})}),(0,d.jsx)(a.xA9,{item:!0,children:(0,d.jsx)(a.$nd,{variant:"contained",onClick:Y,disabled:!b||!f.trim()||w,startIcon:(0,d.jsx)(o.Vnp,{}),sx:{borderRadius:2,fontWeight:700,fontSize:16,background:"linear-gradient(90deg, #6c63ff 0%, #ff6b6b 100%)",color:"white",boxShadow:"0 4px 12px 0 rgba(108,99,255,0.08)",transition:"all 0.2s","&:hover":{filter:"brightness(1.08)"}},children:"Send"})})]})})]})})]}),(0,d.jsxs)(a.lGe,{open:J,onClose:()=>R(!1),maxWidth:"md",fullWidth:!0,children:[(0,d.jsx)(a.L33,{children:"Create Custom Personality"}),(0,d.jsx)(a.Cff,{children:(0,d.jsx)(x,{onSave:e=>{h(e),R(!1)}})})]}),(0,d.jsx)(n.Ay,{open:T,autoHideDuration:6e3,onClose:()=>N(!1),anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,d.jsx)(l.Ay,{elevation:6,variant:"filled",severity:"error",sx:{fontSize:18,alignItems:"center"},action:(0,d.jsx)(a.$nd,{color:"inherit",size:"small",onClick:()=>B("/settings"),children:"Go to Settings"}),children:"AI features are unavailable. Please enter your Gemini API key in Settings."})})]})}}}]);
//# sourceMappingURL=536.3fe4fd3e.chunk.js.map