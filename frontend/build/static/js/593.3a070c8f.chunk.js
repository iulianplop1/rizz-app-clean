"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[593],{1593:(e,n,a)=>{a.r(n),a.d(n,{default:()=>d});var t=a(5043),i=a(6516),r=a(7839),o=a(4344),s=a(6446),l=a(579);const d=()=>{var e,n,a,d;const[c,x]=(0,t.useState)(""),[u,p]=(0,t.useState)([]),[g,h]=(0,t.useState)(!1),[f,m]=(0,t.useState)([]),[b,v]=(0,t.useState)(""),[y,k]=(0,t.useState)(""),[j,w]=(0,t.useState)(!1),S=(0,s.Zp)();(0,t.useEffect)(()=>{z(),I()},[]),(0,t.useEffect)(()=>{p([])},[b]);const z=async()=>{try{const e=await o.Ay.get("https://3e79a6ace678.ngrok-free.app/api/profiles"),n=Object.entries(e.data).map(e=>{let[n,a]=e;return{id:n,...a}});m(n)}catch(e){console.error("Error fetching profiles:",e)}},I=async()=>{try{const e=await o.Ay.get("https://3e79a6ace678.ngrok-free.app/api/settings");k(e.data.gemini_api_key||"")}catch(e){console.error("Error fetching settings:",e)}},A=async()=>{if(!c.trim())return;if(!y)return void w(!0);const e=c;x(""),h(!0),p(n=>[...n,{role:"user",content:e}]);try{const c=b?f.find(e=>e.id===b):null;let x;if(c){var n,a,t,i,r;const p=u.slice(-6).map(e=>`${"user"===e.role?"You":"AI"}: ${e.content}`).join("\n"),h=`You are an AI assistant helping with dating and conversation management. \n\nContext about the girl you're asking about:\nName: ${c.name||"Unknown"}\nUsername: ${c.username||"Unknown"}\nTone Preference: ${c.tone_preference||"Not specified"}\nLikes: ${(null===(n=c.likes)||void 0===n?void 0:n.join(", "))||"None specified"}\nPersonality Tags: ${(null===(a=c.personality_tags)||void 0===a?void 0:a.join(", "))||"None specified"}\nInside Jokes: ${(null===(t=c.inside_jokes)||void 0===t?void 0:t.join(", "))||"None specified"}\nDetails: ${JSON.stringify(c.details||{})}\nConversation Goals: ${(null===(i=c.conversation_goals)||void 0===i?void 0:i.join(", "))||"None specified"}\nRecent Messages: ${(null===(r=c.previous_messages)||void 0===r?void 0:r.slice(-20).map(e=>`${e.from}: ${e.text}`).join("\n"))||"No recent messages"}\n\nRecent Conversation:\n${p}\n\nBased on this information, please answer the following question: ${e}\n\nKeep your answer concise and actionable unless I specifically ask for a detailed breakdown. Avoid markdown formatting, bullet lists, or section headers unless requested.`;if(y){var s,l,d,g,m;const e=await o.Ay.post("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=AIzaSyBJYFwycbxfwTal-Dfoh-wdb3kN_PhsEJo",{contents:[{parts:[{text:h}]}],generationConfig:{temperature:.7,maxOutputTokens:2048}},{headers:{"Content-Type":"application/json"}});x=(null===(s=e.data.candidates)||void 0===s||null===(l=s[0])||void 0===l||null===(d=l.content)||void 0===d||null===(g=d.parts)||void 0===g||null===(m=g[0])||void 0===m?void 0:m.text)||"Sorry, I couldn't generate a response."}else x="Sorry, AI functionality is currently unavailable. API key not set."}else{const n=`You are an AI assistant helping with dating and conversation management. \n\nRecent Conversation:\n${u.slice(-6).map(e=>`${"user"===e.role?"You":"AI"}: ${e.content}`).join("\n")}\n\nPlease answer this general question about dating and conversation strategies: ${e}\n\nKeep your answer concise and actionable unless I specifically ask for a detailed breakdown. Avoid markdown formatting, bullet lists, or section headers unless requested.`;if(y){var v,k,j,S,z;const e=await o.Ay.post("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=AIzaSyBJYFwycbxfwTal-Dfoh-wdb3kN_PhsEJo",{contents:[{parts:[{text:n}]}],generationConfig:{temperature:.7,maxOutputTokens:2048}},{headers:{"Content-Type":"application/json"}});x=(null===(v=e.data.candidates)||void 0===v||null===(k=v[0])||void 0===k||null===(j=k.content)||void 0===j||null===(S=j.parts)||void 0===S||null===(z=S[0])||void 0===z?void 0:z.text)||"Sorry, I couldn't generate a response."}else x="Sorry, AI functionality is currently unavailable. API key not set."}p(e=>[...e,{role:"assistant",content:x}])}catch(I){console.error("Error getting AI response:",I),p(e=>[...e,{role:"assistant",content:"Sorry, I encountered an error while processing your request."}])}finally{h(!1)}},C=b?f.find(e=>e.id===b):null;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.azJ,{sx:{minHeight:"100vh",width:"100%",background:"none",fontFamily:"Inter, Poppins, system-ui, sans-serif",color:"var(--text-primary)",transition:"color 0.3s"},children:(0,l.jsxs)(i.mcf,{maxWidth:"lg",sx:{py:{xs:3,md:8},maxWidth:1200},children:[(0,l.jsxs)(i.azJ,{className:"glass-element",sx:{textAlign:{xs:"center",md:"left"},mb:{xs:6,md:10},background:{xs:void 0,md:void 0},color:"var(--text-primary)",boxShadow:"0 2px 12px 0 rgba(0,0,0,0.04)",borderRadius:3,p:{xs:2,md:4},transition:"background 0.3s, color 0.3s"},children:[(0,l.jsx)(i.o5u,{variant:"h1",sx:{fontSize:{xs:40,md:56},fontWeight:800,letterSpacing:"-0.02em",mb:2,color:"var(--text-primary)"},children:"Get Better at Dating with AI"}),(0,l.jsx)(i.o5u,{variant:"h5",sx:{fontSize:{xs:20,md:28},fontWeight:500,color:"var(--text-secondary)",mb:4,maxWidth:700},children:"Your smart, modern AI wingman. Start a conversation, get advice, or ask about anyone in your database."}),(0,l.jsx)(i.$nd,{variant:"contained",size:"large",sx:{fontSize:18,fontWeight:600,borderRadius:2,px:5,py:1.5,boxShadow:"0 4px 12px 0 rgba(108,99,255,0.08)",background:"linear-gradient(90deg, #6c63ff 0%, #ff6b6b 100%)",color:"white",mb:{xs:4,md:0},transition:"all 0.2s","&:hover":{filter:"brightness(1.08)"},outline:"none"},onClick:()=>{const e=document.getElementById("ai-chat-section");e&&e.scrollIntoView({behavior:"smooth"})},children:"Start Conversation"})]}),(0,l.jsxs)(i.azJ,{sx:{mb:{xs:6,md:10},display:"flex",flexDirection:"column",alignItems:{xs:"center",md:"flex-start"}},children:[(0,l.jsx)(i.o5u,{variant:"h6",sx:{fontSize:24,fontWeight:600,mb:2,color:"var(--text-primary)"},children:"Choose a Profile"}),(0,l.jsxs)(i.azJ,{sx:{display:"flex",gap:2,flexWrap:"wrap",width:"100%",justifyContent:{xs:"center",md:"flex-start"}},children:[(0,l.jsx)(i.$nd,{variant:""===b?"contained":"outlined",onClick:()=>v(""),sx:{borderRadius:3,px:3,py:1.2,fontWeight:500,fontSize:16,background:""===b?"linear-gradient(90deg, #6c63ff 0%, #ff6b6b 100%)":"var(--card-bg)",color:""===b?"white":"var(--text-primary)",boxShadow:""===b?"0 4px 12px 0 rgba(108,99,255,0.08)":"none",border:"1.5px solid #e2e8f0",transition:"all 0.2s","&:hover":{transform:"scale(1.02)",filter:"brightness(1.08)"},outline:"none"},children:"General (No Profile)"}),f.map(e=>(0,l.jsx)(i.$nd,{variant:b===e.id?"contained":"outlined",onClick:()=>v(e.id),sx:{borderRadius:3,px:3,py:1.2,fontWeight:500,fontSize:16,background:b===e.id?"linear-gradient(90deg, #6c63ff 0%, #ff6b6b 100%)":"var(--card-bg)",color:b===e.id?"white":"var(--text-primary)",boxShadow:b===e.id?"0 4px 12px 0 rgba(108,99,255,0.08)":"none",border:"1.5px solid #e2e8f0",transition:"all 0.2s","&:hover":{transform:"scale(1.02)",filter:"brightness(1.08)"},outline:"none"},children:e.name||e.username||e.id},e.id))]})]}),(0,l.jsxs)(i.azJ,{id:"ai-chat-section",sx:{mb:{xs:6,md:10},display:"flex",flexDirection:{xs:"column",md:"row"},gap:6,alignItems:"flex-start",justifyContent:"center"},children:[C&&(0,l.jsxs)(i.tu9,{elevation:2,className:"glass-element",sx:{p:3,minWidth:260,maxWidth:320,mb:{xs:4,md:0},borderRadius:3,boxShadow:"0 4px 6px rgba(0,0,0,0.05)",background:"var(--gradient-card)",color:"var(--text-primary)",transition:"background 0.3s, color 0.3s"},children:[(0,l.jsx)(i.o5u,{variant:"h6",sx:{fontWeight:600,fontSize:20,mb:2,color:"var(--text-primary)"},children:"Profile Info"}),(null===(e=C.likes)||void 0===e?void 0:e.length)>0&&(0,l.jsxs)(i.azJ,{sx:{mb:1},children:[(0,l.jsx)(i.o5u,{variant:"caption",sx:{color:"var(--text-primary)",fontWeight:500},children:"Likes:"}),(0,l.jsx)(i.azJ,{sx:{display:"flex",flexWrap:"wrap",gap:.5,mt:.5},children:C.likes.map((e,n)=>(0,l.jsx)(i.vu3,{label:e,size:"small",variant:"filled",sx:{color:"var(--text-primary)",background:e=>"dark"===e.palette.mode?"rgba(255,255,255,0.04)":"#e3e8f0",border:e=>"dark"===e.palette.mode?"1px solid rgba(255,255,255,0.25)":"1px solid #cbd5e1",fontWeight:500,fontSize:15,letterSpacing:.1,mb:.5}},n))})]}),(null===(n=C.personality_tags)||void 0===n?void 0:n.length)>0&&(0,l.jsxs)(i.azJ,{sx:{mb:1},children:[(0,l.jsx)(i.o5u,{variant:"caption",color:"var(--text-secondary)",children:"Personality:"}),(0,l.jsx)(i.azJ,{sx:{display:"flex",flexWrap:"wrap",gap:.5,mt:.5},children:C.personality_tags.map((e,n)=>(0,l.jsx)(i.vu3,{label:e,size:"small",color:"primary"},n))})]}),(null===(a=C.inside_jokes)||void 0===a?void 0:a.length)>0&&(0,l.jsxs)(i.azJ,{sx:{mb:1},children:[(0,l.jsx)(i.o5u,{variant:"caption",color:"var(--text-secondary)",children:"Inside Jokes:"}),(0,l.jsx)(i.azJ,{sx:{display:"flex",flexWrap:"wrap",gap:.5,mt:.5},children:C.inside_jokes.map((e,n)=>(0,l.jsx)(i.vu3,{label:e,size:"small",color:"secondary"},n))})]}),(null===(d=C.conversation_goals)||void 0===d?void 0:d.length)>0&&(0,l.jsxs)(i.azJ,{children:[(0,l.jsx)(i.o5u,{variant:"caption",color:"var(--text-secondary)",children:"Goals:"}),(0,l.jsx)(i.azJ,{sx:{display:"flex",flexWrap:"wrap",gap:.5,mt:.5},children:C.conversation_goals.map((e,n)=>(0,l.jsx)(i.vu3,{label:e,size:"small",color:"success"},n))})]})]}),(0,l.jsxs)(i.azJ,{sx:{display:"flex",flexDirection:"column",flex:1,minWidth:320,gap:3},children:[(0,l.jsxs)(i.tu9,{elevation:3,className:"card",sx:{flex:1,borderRadius:3,boxShadow:"0 4px 6px rgba(0,0,0,0.05)",display:"flex",flexDirection:"column",minHeight:420,background:"var(--card-bg)",color:"var(--text-primary)",transition:"background 0.3s, color 0.3s"},children:[(0,l.jsxs)(i.azJ,{sx:{flex:1,overflow:"auto",p:3},children:[0===u.length?(0,l.jsxs)(i.azJ,{sx:{textAlign:"center",py:4},children:[(0,l.jsx)(i.o5u,{variant:"h6",color:"var(--text-secondary)",gutterBottom:!0,children:"Start a conversation with your AI assistant"}),(0,l.jsx)(i.o5u,{variant:"body2",color:"var(--text-secondary)",children:C?`Ask me anything about ${C.name||C.username}!`:"Ask me about dating strategies, conversation tips, or select a profile to ask specific questions."})]}):u.map((e,n)=>(0,l.jsx)(i.azJ,{sx:{mb:2,display:"flex",justifyContent:"user"===e.role?"flex-end":"flex-start",transition:"all 0.2s"},children:(0,l.jsx)(i.tu9,{sx:{p:2,maxWidth:"70%",backgroundColor:"user"===e.role?"primary.main":"grey.100",color:"user"===e.role?"white":"var(--text-primary)",borderRadius:2,boxShadow:"user"===e.role?"0 2px 8px 0 rgba(108,99,255,0.08)":"0 2px 8px 0 rgba(0,0,0,0.04)",fontSize:16,fontWeight:400,letterSpacing:"-0.01em",transition:"all 0.2s"},children:(0,l.jsx)(i.o5u,{variant:"body1",sx:{fontSize:16,lineHeight:1.6},children:e.content})})},n)),g&&(0,l.jsx)(i.azJ,{sx:{display:"flex",justifyContent:"flex-start",mb:2},children:(0,l.jsx)(i.tu9,{sx:{p:2,backgroundColor:"grey.100",borderRadius:2},children:(0,l.jsxs)(i.o5u,{variant:"body1",color:"var(--text-secondary)",children:[(0,l.jsxs)("span",{className:"typing-indicator",style:{display:"inline-flex",gap:2,alignItems:"center"},children:[(0,l.jsx)("span",{style:{width:8,height:8,borderRadius:"50%",background:"#6c63ff",display:"inline-block",marginRight:2,animation:"blink 1s infinite alternate"}}),(0,l.jsx)("span",{style:{width:8,height:8,borderRadius:"50%",background:"#6c63ff",display:"inline-block",marginRight:2,animation:"blink 1s 0.2s infinite alternate"}}),(0,l.jsx)("span",{style:{width:8,height:8,borderRadius:"50%",background:"#6c63ff",display:"inline-block",animation:"blink 1s 0.4s infinite alternate"}})]}),"Thinking..."]})})})]}),(0,l.jsx)(i.cGx,{}),(0,l.jsx)(i.azJ,{sx:{p:3,bgcolor:"transparent",borderBottomLeftRadius:12,borderBottomRightRadius:12},children:(0,l.jsxs)(i.azJ,{sx:{display:"flex",gap:2},children:[(0,l.jsx)(i.A_L,{fullWidth:!0,multiline:!0,maxRows:4,value:c,onChange:e=>x(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),A())},placeholder:C?`Ask me about ${C.name||C.username}...`:"Ask me anything about dating, conversation strategies...",disabled:g,sx:{fontSize:16,borderRadius:2,background:"var(--card-bg)",color:"var(--text-primary)",boxShadow:"0 2px 8px 0 rgba(0,0,0,0.03)","& .MuiOutlinedInput-root":{borderRadius:2,background:"var(--card-bg)",color:"var(--text-primary)"},"& .Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#6c63ff",boxShadow:"0 0 0 2px #6c63ff33"}}}),(0,l.jsx)(i.$nd,{variant:"contained",onClick:A,disabled:g||!c.trim(),sx:{height:"56px",minWidth:"56px",borderRadius:2,fontWeight:600,fontSize:20,background:"linear-gradient(90deg, #6c63ff 0%, #ff6b6b 100%)",color:"white",boxShadow:"0 4px 12px 0 rgba(108,99,255,0.08)",transition:"all 0.2s","&:hover":{filter:"brightness(1.08)"},outline:"none"},children:(0,l.jsx)(r.Vnp,{})})]})})]}),(0,l.jsxs)(i.azJ,{className:"card",sx:{mt:0,background:"var(--card-bg)",color:"var(--text-primary)",borderRadius:3,boxShadow:"0 2px 8px 0 rgba(0,0,0,0.03)",transition:"background 0.3s, color 0.3s",pb:4},children:[(0,l.jsx)(i.o5u,{variant:"h6",sx:{fontSize:24,fontWeight:600,mb:2,color:"var(--text-primary)",ml:2},children:"Quick Questions"}),(0,l.jsx)(i.azJ,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"1fr 1fr"},gap:4,maxWidth:700,mx:"auto",mb:0,pb:0},children:["What's her favorite pet?","What should I talk about next?","How can I make her laugh?","What's the best time to ask her out?"].map((e,n)=>(0,l.jsx)(i.tu9,{elevation:1,className:"glass-element",sx:{p:3,borderRadius:3,fontSize:18,fontWeight:600,color:"var(--text-primary)",background:"var(--gradient-card)",boxShadow:"0 2px 8px 0 rgba(0,0,0,0.03)",cursor:"pointer",transition:"all 0.2s","&:hover":{transform:"scale(1.02)",boxShadow:"0 4px 16px 0 rgba(108,99,255,0.10)"},outline:"none",textAlign:"center",minHeight:80,display:"flex",alignItems:"center",justifyContent:"center"},tabIndex:0,role:"button","aria-label":`Ask: ${e}`,onClick:()=>x(e),children:e},n))})]})]})]})]})}),(0,l.jsx)(i.qb_,{open:j,autoHideDuration:6e3,onClose:()=>w(!1),anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,l.jsx)(i.FcD,{elevation:6,variant:"filled",severity:"error",sx:{fontSize:18,alignItems:"center"},action:(0,l.jsx)(i.$nd,{color:"inherit",size:"small",onClick:()=>S("/settings"),children:"Go to Settings"}),children:"AI features are unavailable. Please enter your Gemini API key in Settings."})})]})}}}]);
//# sourceMappingURL=593.3a070c8f.chunk.js.map