(()=>{"use strict";var e={3083:(e,r,o)=>{var t=o(5043),n=o(4391),a=o(6446),i=o(6516),s=o(7839),l=(o(5362),o(3106)),d=o(5837),c=o(3862),u=o(579);function x(){return(0,u.jsxs)("div",{className:"typing-indicator","aria-label":"AI is typing",style:{display:"flex",gap:2,alignItems:"center",marginTop:8},children:[(0,u.jsx)("span",{style:{width:8,height:8,borderRadius:"50%",background:"var(--accent-blue)",display:"inline-block",marginRight:2}}),(0,u.jsx)("span",{style:{width:8,height:8,borderRadius:"50%",background:"var(--accent-blue)",display:"inline-block",marginRight:2}}),(0,u.jsx)("span",{style:{width:8,height:8,borderRadius:"50%",background:"var(--accent-blue)",display:"inline-block"}})]})}const h=function(){const[e,r]=(0,t.useState)([]),[o,n]=(0,t.useState)(null),[s,h]=(0,t.useState)(!1),[p]=(0,t.useState)(["Ask about their weekend","Send a compliment","Share a funny meme"]),f=(0,a.Zp)();(0,t.useEffect)(()=>{const e=async()=>{try{const e=await c.$t.getAll();Array.isArray(e)?(r(e.filter(e=>!e.is_me&&"me"!==e.user_id)),n(e.find(e=>e.is_me||"me"===e.user_id))):(console.error("API returned non-array data:",e),r([]))}catch(e){console.error("Failed to fetch profiles:",e),r([])}};e();const o=setInterval(e,3e3);return()=>clearInterval(o)},[]);const g={"\ud83d\ude0f":"Flirty","\ud83d\ude20":"Angry","\ud83d\ude22":"Sad","\ud83d\ude10":"Neutral","\ud83d\ude04":"Happy"};return(0,u.jsxs)("main",{className:"container",style:{maxWidth:1200,margin:"0 auto",paddingTop:24},children:[(0,u.jsxs)("section",{className:"glass-element",style:{margin:"0 auto 32px auto",padding:"32px 24px",borderRadius:16,textAlign:"center",maxWidth:700,boxShadow:"0 2px 12px 0 rgba(0,0,0,0.04)"},children:[(0,u.jsx)("h1",{style:{marginBottom:8},children:"AI Wingman"}),(0,u.jsx)("p",{style:{color:"var(--text-secondary)",fontSize:18,margin:0},children:"Your smart dating assistant. Start a conversation or dive back in."})]}),(0,u.jsx)("section",{className:"conversation-grid",children:(0,u.jsxs)(t.Suspense,{fallback:(0,u.jsx)(i.PaH,{}),children:[" ",e.map(e=>{const r=function(e){const r=e.slice(-5).map(e=>e.text.toLowerCase()).join(" ");return/love|amazing|great|happy|fun|\ud83d\ude0d|\ud83d\ude04|\ud83d\ude0a|\ud83d\ude18|flirt|kiss|cute|hot|babe|sweet/.test(r)?"\ud83d\ude0f":/angry|mad|annoy|hate|\ud83d\ude20|\ud83d\ude21|wtf|ugh/.test(r)?"\ud83d\ude20":/sad|cry|miss|lonely|\ud83d\ude22|\ud83d\ude2d/.test(r)?"\ud83d\ude22":/ok|fine|alright|neutral|meh|\ud83d\ude10/.test(r)?"\ud83d\ude10":"\ud83d\ude04"}(e.previous_messages||[]),o=function(e){var r,o,t,n;const a=(null===(r=e.likes)||void 0===r?void 0:r.length)||0,i=(null===(o=e.personality_tags)||void 0===o?void 0:o.length)||0,s=(null===(t=e.inside_jokes)||void 0===t?void 0:t.length)||0,l=(null===(n=e.previous_messages)||void 0===n?void 0:n.length)||0;let d=2*a+2*i+3*s+Math.min(l,20);return d=Math.min(100,Math.round(d)),d}(e),t=function(e){const r=e.previous_messages||[];return r.length>0?r[r.length-1].text:""}(e),n=function(e){const r=e.previous_messages||[];if(0===r.length)return"";const o=r[r.length-1];if(!o.timestamp)return"";let t;t=o.timestamp.includes("T")?new Date(o.timestamp):new Date(o.timestamp.replace(/-/g,"/"));const n=new Date-t,a=Math.floor(n/6e4);if(a<1)return"just now";if(a<60)return`${a} min ago`;const i=Math.floor(a/60);return i<24?`${i}h ago`:`${Math.floor(i/24)}d ago`}(e);return(0,u.jsxs)("article",{className:"conversation-card card glass-element",tabIndex:0,"aria-label":`Conversation with ${e.name}`,style:{position:"relative",minHeight:220,maxHeight:260,display:"flex",flexDirection:"column",justifyContent:"space-between",padding:24,transition:"box-shadow 0.3s, transform 0.3s, background 0.3s",zIndex:1,willChange:"transform"},onClick:()=>f(`/inbox/${e.user_id}`),onKeyDown:r=>{"Enter"===r.key&&f(`/inbox/${e.user_id}`)},role:"button",children:[(0,u.jsxs)("header",{style:{display:"flex",alignItems:"center",marginBottom:8},children:[(0,u.jsx)(i.euF,{sx:{width:44,height:44,fontSize:22,bgcolor:"var(--accent-blue)",color:"white",mr:2},children:e.name?e.name[0]:"?"}),(0,u.jsxs)("div",{style:{flex:1},children:[(0,u.jsx)("h3",{style:{marginBottom:0},children:e.name||e.username||e.user_id}),(0,u.jsxs)("span",{className:"compatibility-score",style:{color:"var(--primary-coral)",fontWeight:600,fontSize:16},children:[o,"% match"]})]}),(0,u.jsx)(i.m_M,{title:g[r]||"Mood",arrow:!0,placement:"top",children:(0,u.jsx)("span",{style:{fontSize:28,marginLeft:8},children:r})})]}),(0,u.jsx)("div",{className:"card-body",style:{flex:1,minHeight:32,maxHeight:40,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:"var(--text-secondary)",fontSize:15,marginBottom:8},children:t}),(0,u.jsx)("div",{className:"progress-indicator","aria-label":"Relationship progress",children:(0,u.jsx)("div",{className:"progress-bar",style:{width:`${o}%`,background:o>70?"var(--primary-coral)":"var(--accent-blue)"}})}),(0,u.jsxs)("footer",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:12},children:[(0,u.jsx)("span",{className:"time-ago",style:{color:"var(--text-secondary)",fontSize:13},children:n}),(0,u.jsxs)("div",{className:"quick-actions",style:{display:"flex",gap:8},children:[(0,u.jsx)(i.m_M,{title:"Reply",arrow:!0,children:(0,u.jsx)(i.K0,{"aria-label":"Reply",size:"small",tabIndex:-1,children:(0,u.jsx)(d.A,{fontSize:"small"})})}),(0,u.jsx)(i.m_M,{title:"Analytics",arrow:!0,children:(0,u.jsx)(i.K0,{"aria-label":"Analytics",size:"small",tabIndex:-1,onClick:r=>{r.stopPropagation(),f(`/analytics/${e.user_id}`)},children:(0,u.jsx)(l.A,{fontSize:"small"})})})]})]}),s&&(0,u.jsx)(x,{})]},e.user_id)})]})})]})};var p=o(4344),f=o(5279);const g=[{code:"ro",label:"Romanian"},{code:"en",label:"English"},{code:"ru",label:"Russian"},{code:"other",label:"Other..."}],m={ro:"Romanian",en:"English",ru:"Russian",other:"Other..."},b=()=>{const{id:e}=(0,a.g)(),[r,o]=(0,t.useState)(null),[n,l]=(0,t.useState)([]),[d,c]=(0,t.useState)(""),[x,h]=(0,t.useState)(""),[b,j]=(0,t.useState)({reply_1:"",reply_2:"",reply_3:""}),[y,v]=(0,t.useState)(!1),[w,C]=(0,t.useState)(!1),[k,S]=(0,t.useState)(""),[z,M]=(0,t.useState)(""),[I,A]=(0,t.useState)(""),[W,F]=(0,t.useState)(!1),[E,P]=(0,t.useState)(""),[_,O]=(0,t.useState)([]),[T,J]=(0,t.useState)(-1),[R,D]=(0,t.useState)(!1),[L,N]=(0,t.useState)(!1),[H,$]=(0,t.useState)(""),G=(0,t.useRef)(null),q=(0,t.useRef)(""),[B,U]=(0,t.useState)("en"),[K,Y]=(0,t.useState)(""),Z=(0,t.useRef)(null),[Q,V]=(0,t.useState)(!1),[X,ee]=((0,f.DP)(),(0,t.useState)("")),[re,oe]=(0,t.useState)(!1),te=(0,a.Zp)();(0,t.useEffect)(()=>{n.length>0&&(()=>{var e;L||null===(e=G.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})})()},[n.length]),(0,t.useEffect)(()=>{ne(),ae();const e=setInterval(ne,3e3);return()=>clearInterval(e)},[e]),(0,t.useEffect)(()=>{if(!y||0===n.length)return;const e=n[n.length-1];e&&"Me"!==e.from&&e.text&&q.current!==e.text&&(se(),q.current=e.text)},[n,y]),(0,t.useEffect)(()=>{const e=()=>{const e=Z.current;if(!e)return;const r=e.scrollHeight>e.clientHeight,o=e.scrollTop+e.clientHeight<e.scrollHeight-24;V(r&&o)};e();const r=Z.current;return r&&(r.addEventListener("scroll",e),window.addEventListener("resize",e)),()=>{r&&r.removeEventListener("scroll",e),window.removeEventListener("resize",e)}},[r,y,w,k,z,I,B,K]);const ne=async()=>{try{var r;const[t,n]=await Promise.all([p.Ay.get(`https://3e79a6ace678.ngrok-free.app/api/profiles/${e}`),p.Ay.get(`https://3e79a6ace678.ngrok-free.app/api/conversations/${e}`)]);o(t.data),l(n.data),S((null===(r=t.data.conversation_goals)||void 0===r?void 0:r[0])||""),M(t.data.tone_preference||"")}catch(t){console.error("Error fetching data:",t)}},ae=async()=>{try{var e;const r=await p.Ay.get("https://3e79a6ace678.ngrok-free.app/api/settings");ee((null===(e=r.data.apiKeys)||void 0===e?void 0:e.geminiApiKey)||"")}catch(r){console.error("Error fetching settings:",r)}},ie=async()=>{if(d.trim()&&r)if(X){F(!0);try{const o="other"===B?K:m[B],t=await p.Ay.post("https://3e79a6ace678.ngrok-free.app/api/ai/polish",{user_id:r.user_id||e,message:d,tone:w?"nuclear flirt":I||z,language:o});h(t.data.polished||"Could not polish message"),c(t.data.polished||d)}catch(o){console.error("Error polishing message:",o),h("Error polishing message")}finally{F(!1)}}else oe(!0)},se=async()=>{if(0===n.length||!r)return;if(!X)return void oe(!0);const o=n[n.length-1];F(!0);try{const t="other"===B?K:m[B],n=await p.Ay.post("https://3e79a6ace678.ngrok-free.app/api/ai/reply",{user_id:r.user_id||e,last_message:o.text,goal:k,tone:w?"nuclear flirt":I||z,language:t});j(n.data)}catch(t){console.error("Error getting AI replies:",t)}finally{F(!1)}};return r?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(i.azJ,{sx:{width:"100vw",height:"calc(100vh - 80px)",display:"grid",gridTemplateColumns:{xs:"1fr",md:"1fr 380px",sm:"1fr 300px"},gap:2,padding:"8px",maxWidth:"100vw",boxSizing:"border-box",background:"none",fontFamily:"Inter, SF Pro Display, -apple-system, BlinkMacSystemFont, Segoe UI, sans-serif",color:"#1f2937"},children:[(0,u.jsxs)(i.azJ,{className:"chat-section glass-element",sx:{borderRadius:2,boxShadow:"0 2px 8px rgba(0,0,0,0.10)",display:"flex",flexDirection:"column",minHeight:0,height:"100%",p:2,overflow:"hidden"},children:[(0,u.jsx)(i.o5u,{variant:"h4",sx:{fontWeight:700,fontSize:{xs:20,md:24},mb:1,letterSpacing:"-0.01em",color:"#1f2937"},children:r.name||r.username||"Conversation"}),(0,u.jsxs)(i.azJ,{className:"messages-area",sx:{flex:1,overflowY:"auto",p:"0 8px 8px 8px",minHeight:0},children:[n.map((e,o)=>(0,u.jsxs)(i.azJ,{id:`message-${o}`,sx:{mb:1.5,display:"flex",flexDirection:"Me"===e.from?"row-reverse":"row",alignItems:"flex-end",gap:1,position:"relative",transition:"all 0.3s"},children:[(0,u.jsx)(i.azJ,{sx:{minWidth:32,minHeight:32,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,u.jsx)(i.tu9,{elevation:1,sx:{width:32,height:32,borderRadius:"50%",background:"Me"===e.from?"#2563eb":"#e2e8f0",color:"Me"===e.from?"white":"#2563eb",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:16},children:"Me"===e.from?"\ud83e\uddd1":r.name?r.name[0]:"\ud83e\udd16"})}),(0,u.jsxs)(i.azJ,{sx:{maxWidth:520,minWidth:60,px:2,py:1,borderRadius:"Me"===e.from?"12px 12px 4px 12px":"12px 12px 12px 4px",background:"Me"===e.from?"#2563eb":"#fff",color:"Me"===e.from?"white":"#1f2937",boxShadow:"0 2px 8px rgba(0,0,0,0.10)",position:"relative",fontSize:16,fontWeight:400,lineHeight:1.6,transition:"all 0.2s","&:hover .msg-actions":{opacity:1,pointerEvents:"auto"}},children:[(0,u.jsx)(i.o5u,{variant:"body1",sx:{fontSize:16,lineHeight:1.6,wordBreak:"break-word"},children:e.text}),(0,u.jsx)(i.o5u,{variant:"caption",sx:{color:"Me"===e.from?"rgba(255,255,255,0.7)":"#6b7280",fontWeight:500,mt:.5,display:"block",textAlign:"Me"===e.from?"right":"left",fontSize:12},children:e.timestamp}),(0,u.jsx)(i.azJ,{className:"msg-actions",sx:{position:"absolute",top:8,right:"Me"===e.from?8:"auto",left:"Me"===e.from?"auto":8,display:"flex",gap:1,opacity:0,pointerEvents:"none",transition:"opacity 0.2s"},children:(0,u.jsx)(i.m_M,{title:"Copy",arrow:!0,children:(0,u.jsx)(i.K0,{size:"small",tabIndex:-1,"aria-label":"Copy message",onClick:r=>{r.stopPropagation(),navigator.clipboard.writeText(e.text)},children:(0,u.jsx)("span",{role:"img","aria-label":"Copy",children:"\ud83d\udccb"})})})})]})]},o)),(0,u.jsx)("div",{ref:G})]}),(0,u.jsxs)(i.azJ,{className:"message-input-area glass-element",sx:{flexShrink:0,p:2,borderTop:"1px solid #e5e7eb",display:"flex",gap:1.5,alignItems:"center",borderRadius:2},children:[(0,u.jsx)(i.A_L,{className:"message-input",fullWidth:!0,multiline:!0,minRows:1,maxRows:4,value:d,onChange:e=>c(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),ie())},placeholder:"Type your message here... (Press Enter to polish)",sx:{fontSize:16,borderRadius:1.5,background:"white",minHeight:40,padding:"8px 12px",border:"1px solid #e5e7eb",boxShadow:"0 2px 8px 0 rgba(0,0,0,0.03)","& .MuiOutlinedInput-root":{borderRadius:1.5},"& .Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#8b5cf6",boxShadow:"0 0 0 2px #8b5cf633"}},inputProps:{"aria-label":"Type your message"}}),(0,u.jsx)(i.$nd,{className:"send-button",variant:"contained",onClick:ie,disabled:W||!d.trim(),sx:{fontSize:14,fontWeight:500,height:40,padding:"8px 16px",background:"#8b5cf6",borderRadius:1.5,letterSpacing:"0.025em",minWidth:40,boxShadow:"0 4px 12px 0 rgba(108,99,255,0.08)",transition:"all 0.2s","&:hover":{filter:"brightness(1.08)",transform:"scale(1.02)"},outline:"none"},"aria-label":"Polish message",tabIndex:0,startIcon:(0,u.jsx)(s.ffu,{}),children:"Polish"})]}),x&&(0,u.jsxs)(i.azJ,{sx:{mt:1,mb:2,display:"flex",alignItems:"center",gap:1},children:[(0,u.jsx)(i.tu9,{sx:{p:1.5,background:"#f3f4f6",borderRadius:2,flex:1},children:(0,u.jsx)(i.o5u,{variant:"body2",sx:{color:"#1f2937"},children:x})}),(0,u.jsx)(i.m_M,{title:"Copy",arrow:!0,children:(0,u.jsx)(i.K0,{size:"small","aria-label":"Copy polished message",onClick:()=>navigator.clipboard.writeText(x),children:(0,u.jsx)("span",{role:"img","aria-label":"Copy",children:"\ud83d\udccb"})})})]})]}),(0,u.jsxs)(i.azJ,{className:"controls-sidebar glass-element",ref:Z,sx:{position:"relative",overflowY:"auto",height:"100%",minWidth:{xs:"100%",md:380,sm:300},p:2,pr:3,mr:2,display:"flex",flexDirection:"column",minHeight:0,borderRadius:2,"&::-webkit-scrollbar":{width:6},"&::-webkit-scrollbar-track":{background:"#f1f5f9",borderRadius:3},"&::-webkit-scrollbar-thumb":{background:"#cbd5e1",borderRadius:3},"&::-webkit-scrollbar-thumb:hover":{background:"#94a3b8"}},children:[(0,u.jsx)(i.azJ,{sx:{content:'""',position:"absolute",bottom:0,left:0,right:0,height:40,background:"linear-gradient(transparent, rgba(255,255,255,0.9))",pointerEvents:"none",zIndex:1}}),(0,u.jsx)(i.o5u,{variant:"h6",sx:{fontWeight:600,fontSize:20,mb:2,color:"#1f2937"},children:"Controls"}),(0,u.jsx)(i.cGx,{sx:{mb:2}}),(0,u.jsxs)(i.azJ,{sx:{mb:3},children:[(0,u.jsx)(i.o5u,{variant:"subtitle1",sx:{fontWeight:500,fontSize:16,mb:1},children:"Message Settings"}),(0,u.jsx)(i.$nd,{fullWidth:!0,variant:"contained",onClick:se,disabled:W,sx:{mb:1,borderRadius:2,fontWeight:500,fontSize:15,py:1,background:"#2563eb",color:"white",transition:"all 0.2s","&:hover":{filter:"brightness(1.08)",transform:"scale(1.02)"}},startIcon:(0,u.jsx)(s.RsM,{}),children:"Get AI Replies"}),(b.reply_1||b.reply_2||b.reply_3)&&(0,u.jsx)(i.azJ,{sx:{mt:1,mb:2,display:"flex",flexDirection:"column",gap:1},children:[b.reply_1,b.reply_2,b.reply_3].filter(Boolean).map((e,r)=>(0,u.jsxs)(i.tu9,{sx:{p:1.5,background:"#f3f4f6",borderRadius:2,display:"flex",alignItems:"center",gap:1},children:[(0,u.jsx)(i.o5u,{variant:"body2",sx:{color:"#1f2937",flex:1},children:e}),(0,u.jsx)(i.m_M,{title:"Copy",arrow:!0,children:(0,u.jsx)(i.K0,{size:"small","aria-label":`Copy AI reply ${r+1}`,onClick:()=>navigator.clipboard.writeText(e),children:(0,u.jsx)("span",{role:"img","aria-label":"Copy",children:"\ud83d\udccb"})})})]},r))}),(0,u.jsx)(i.ip9,{control:(0,u.jsx)(i.dOG,{checked:y,onChange:e=>v(e.target.checked)}),label:"Auto AI Replies",sx:{mt:1}}),(0,u.jsx)(i.ip9,{control:(0,u.jsx)(i.dOG,{checked:w,onChange:e=>C(e.target.checked)}),label:"Nuclear Flirt Mode",sx:{mt:1}}),(0,u.jsx)(i.o5u,{variant:"caption",color:"#6b7280",sx:{mt:1,display:"block"},children:"Nuclear Flirt: Generates bold, high-risk flirty messages with maximum impact"})]}),(0,u.jsx)(i.cGx,{sx:{mb:2}}),(0,u.jsxs)(i.azJ,{sx:{mb:3},children:[(0,u.jsx)(i.o5u,{variant:"subtitle1",sx:{fontWeight:500,fontSize:16,mb:1},children:"Conversation Controls"}),(0,u.jsx)(i.A_L,{fullWidth:!0,value:k,onChange:e=>S(e.target.value),placeholder:"Set conversation goal...",sx:{mb:1,borderRadius:2},size:"small"}),(0,u.jsx)(i.$nd,{fullWidth:!0,size:"small",onClick:async()=>{if(r)try{const o={...r};o.conversation_goals=[k],await p.Ay.put(`https://3e79a6ace678.ngrok-free.app/api/profiles/${e}`,o),$("Conversation goal updated successfully!"),setTimeout(()=>$(""),3e3)}catch(o){console.error("Error updating conversation goal:",o)}},disabled:!k.trim(),sx:{mb:2,borderRadius:2,fontWeight:500,fontSize:15,py:1,border:"2px solid #2563eb",color:"#2563eb",transition:"all 0.2s","&:hover":{background:"#e2e8f0",transform:"scale(1.02)"}},children:"Update Goal"}),(0,u.jsxs)(i.A_L,{fullWidth:!0,select:!0,value:z,onChange:e=>M(e.target.value),sx:{mb:1,borderRadius:2},size:"small",SelectProps:{displayEmpty:!0,renderValue:e=>e?e.charAt(0).toUpperCase()+e.slice(1):"Select tone"},MenuProps:{PaperProps:{style:{maxHeight:200,overflow:"auto"}},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},children:[(0,u.jsx)(i.Drp,{value:"",children:(0,u.jsx)("em",{children:"Select tone"})}),(0,u.jsx)(i.Drp,{value:"flirty",children:"Flirty"}),(0,u.jsx)(i.Drp,{value:"playful",children:"Playful"}),(0,u.jsx)(i.Drp,{value:"serious",children:"Serious"}),(0,u.jsx)(i.Drp,{value:"witty",children:"Witty"}),(0,u.jsx)(i.Drp,{value:"romantic",children:"Romantic"}),(0,u.jsx)(i.Drp,{value:"casual",children:"Casual"}),(0,u.jsx)(i.Drp,{value:"professional",children:"Professional"})]}),(0,u.jsx)(i.A_L,{fullWidth:!0,value:I,onChange:e=>A(e.target.value),placeholder:"Or type custom tone...",sx:{mb:1,borderRadius:2},size:"small"}),(0,u.jsx)(i.$nd,{fullWidth:!0,size:"small",onClick:async()=>{if(r)try{const o={...r};o.tone_preference=I||z,await p.Ay.put(`https://3e79a6ace678.ngrok-free.app/api/profiles/${e}`,o),$("Tone preference updated successfully!"),setTimeout(()=>$(""),3e3)}catch(o){console.error("Error updating tone preference:",o)}},disabled:!z.trim()&&!I.trim(),sx:{mb:1,borderRadius:2,fontWeight:500,fontSize:15,py:1,border:"2px solid #2563eb",color:"#2563eb",transition:"all 0.2s","&:hover":{background:"#e2e8f0",transform:"scale(1.02)"}},children:"Update Tone"}),(r.tone_preference||I||z)&&(0,u.jsxs)(i.tu9,{sx:{p:1.5,backgroundColor:"#2563eb",color:"white",mb:2,borderRadius:2},children:[(0,u.jsx)(i.o5u,{variant:"caption",sx:{display:"block",mb:.5},children:"Current Tone:"}),(0,u.jsx)(i.o5u,{variant:"body2",sx:{fontWeight:"bold"},children:r.tone_preference||I||z})]})]}),(0,u.jsx)(i.cGx,{sx:{mb:2}}),(0,u.jsxs)(i.azJ,{children:[(0,u.jsx)(i.o5u,{variant:"subtitle1",sx:{fontWeight:500,fontSize:16,mb:1},children:"Advanced Options"}),(0,u.jsxs)(i.MJN,{size:"small",sx:{minWidth:180,mb:2},children:[(0,u.jsx)(i.l1Y,{id:"language-select-label",children:"Reply Language"}),(0,u.jsx)(i.l6P,{labelId:"language-select-label",value:B,label:"Reply Language",onChange:e=>U(e.target.value),children:g.map(e=>(0,u.jsx)(i.Drp,{value:e.code,children:e.label},e.code))})]}),"other"===B&&(0,u.jsx)(i.A_L,{size:"small",label:"Custom Language",value:K,onChange:e=>Y(e.target.value),sx:{minWidth:160,mb:2}})]})]}),Q&&(0,u.jsx)(i.azJ,{sx:{position:"absolute",bottom:16,right:24,zIndex:10,pointerEvents:"none"},children:(0,u.jsx)(i.azJ,{sx:{background:"rgba(37, 99, 235, 0.9)",color:"white",px:2,py:.5,borderRadius:2,fontSize:12,fontWeight:500,animation:"bounce 2s infinite",boxShadow:"0 2px 8px rgba(0,0,0,0.12)",pointerEvents:"auto"},children:"\u2b07\ufe0f More options below"})}),(0,u.jsx)(i.qb_,{open:!!H,autoHideDuration:3e3,onClose:()=>$(""),anchorOrigin:{vertical:"bottom",horizontal:"left"},children:(0,u.jsx)(i.FcD,{onClose:()=>$(""),severity:"success",sx:{width:"100%"},children:H})})]}),(0,u.jsx)(i.qb_,{open:re,autoHideDuration:6e3,onClose:()=>oe(!1),anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,u.jsx)(i.FcD,{elevation:6,variant:"filled",severity:"error",sx:{fontSize:18,alignItems:"center"},action:(0,u.jsx)(i.$nd,{color:"inherit",size:"small",onClick:()=>te("/settings"),children:"Go to Settings"}),children:"AI features are unavailable. Please enter your Gemini API key in Settings (or check that your key is valid)."})})]}):(0,u.jsx)(i.mcf,{children:(0,u.jsx)(i.o5u,{children:"Loading..."})})},j=()=>(0,u.jsx)(i.azJ,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px"},children:(0,u.jsx)(i.PaH,{})}),y=t.lazy(()=>o.e(32).then(o.bind(o,9032))),v=t.lazy(()=>Promise.all([o.e(563),o.e(96),o.e(723)]).then(o.bind(o,6723))),w=t.lazy(()=>o.e(536).then(o.bind(o,1536))),C=t.lazy(()=>o.e(602).then(o.bind(o,1602))),k=t.lazy(()=>o.e(202).then(o.bind(o,2202))),S=t.lazy(()=>o.e(593).then(o.bind(o,1593))),z=e=>(0,u.jsx)(t.Suspense,{fallback:(0,u.jsx)(j,{}),children:(0,u.jsx)(y,{...e})}),M=e=>(0,u.jsx)(t.Suspense,{fallback:(0,u.jsx)(j,{}),children:(0,u.jsx)(v,{...e})}),I=e=>(0,u.jsx)(t.Suspense,{fallback:(0,u.jsx)(j,{}),children:(0,u.jsx)(w,{...e})}),A=e=>(0,u.jsx)(t.Suspense,{fallback:(0,u.jsx)(j,{}),children:(0,u.jsx)(C,{...e})}),W=e=>(0,u.jsx)(t.Suspense,{fallback:(0,u.jsx)(j,{}),children:(0,u.jsx)(k,{...e})}),F=e=>(0,u.jsx)(t.Suspense,{fallback:(0,u.jsx)(j,{}),children:(0,u.jsx)(S,{...e})}),E=e=>{let{onSignUp:r}=e;const[o,n]=(0,t.useState)(0),[a,l]=(0,t.useState)({username:"",email:"",password:"",confirmPassword:"",name:"",age:18,gender:"",bio:"",interests:[],personality:[],goals:[],defaultTone:"flirty",enableNotifications:!0,autoGenerate:!1}),[d,c]=(0,t.useState)(!1),[x,h]=(0,t.useState)(!1),[p,f]=(0,t.useState)({}),[g,m]=(0,t.useState)(!1),b=[{label:"Fitness",icon:(0,u.jsx)(s.OX2,{}),value:"fitness"},{label:"Music",icon:(0,u.jsx)(s.c1h,{}),value:"music"},{label:"Travel",icon:(0,u.jsx)(s.Pa4,{}),value:"travel"},{label:"Food",icon:(0,u.jsx)(s.fW,{}),value:"food"},{label:"Gaming",icon:(0,u.jsx)(s.UKh,{}),value:"gaming"},{label:"Reading",icon:(0,u.jsx)(s.E3I,{}),value:"reading"},{label:"Movies",icon:(0,u.jsx)(s.pTy,{}),value:"movies"},{label:"Photography",icon:(0,u.jsx)(s.i7d,{}),value:"photography"},{label:"Art",icon:(0,u.jsx)(s.N6r,{}),value:"art"},{label:"Technology",icon:(0,u.jsx)(s.CyN,{}),value:"technology"},{label:"Sports",icon:(0,u.jsx)(s.Ls0,{}),value:"sports"},{label:"Pets",icon:(0,u.jsx)(s.JZG,{}),value:"pets"}],j=["Funny","Confident","Adventurous","Romantic","Intellectual","Creative","Spontaneous","Ambitious","Caring","Mysterious","Outgoing","Laid-back","Passionate","Charming","Honest"],y=["Get dates","Make friends","Network professionally","Have fun conversations","Learn about people","Practice social skills"],v=["Account Setup","Personal Info","Interests & Personality","Preferences"],w=e=>{const r={};switch(e){case 0:a.username||(r.username="Username is required"),a.email||(r.email="Email is required"),a.email.includes("@")||(r.email="Invalid email format"),a.password||(r.password="Password is required"),a.password.length<6&&(r.password="Password must be at least 6 characters"),a.password!==a.confirmPassword&&(r.confirmPassword="Passwords do not match"),a.name||(r.name="Name is required");break;case 1:a.gender||g||(r.gender="Gender is required")}return f(r),0===Object.keys(r).length},C=()=>{w(o)&&n(e=>e+1)},k=()=>{n(e=>e-1)},S=()=>{m(!0),n(3)},z=async()=>{if(w(0))try{const e={username:a.username,password:a.password,name:a.name,email:a.email,hasCompletedProfile:!g&&o>=2,profile:{name:a.name,age:a.age,gender:a.gender,bio:a.bio,interests:a.interests,personality:a.personality,goals:a.goals,preferences:{defaultTone:a.defaultTone,enableNotifications:a.enableNotifications,autoGenerate:a.autoGenerate}}},t=await fetch("https://3e79a6ace678.ngrok-free.app/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json();n.success?r(n.user):f({submit:n.error||"Registration failed"})}catch(e){console.error("Registration error:",e),f({submit:"Network error. Please try again."})}},M=e=>{switch(e){case 0:return(0,u.jsxs)(i.azJ,{sx:{display:"flex",flexDirection:"column",gap:2,mt:2},children:[(0,u.jsx)(i.A_L,{fullWidth:!0,label:"Username",value:a.username,onChange:e=>l(r=>({...r,username:e.target.value})),error:!!p.username,helperText:p.username,InputProps:{startAdornment:(0,u.jsx)(i.jC1,{position:"start",children:(0,u.jsx)(s._Au,{sx:{color:"#2d3748"}})})},sx:{"& .MuiOutlinedInput-root":{backgroundColor:"#ffffff",color:"#2d3748","& fieldset":{borderColor:"#e2e8f0"},"&:hover fieldset":{borderColor:"#E4405F"},"&.Mui-focused fieldset":{borderColor:"#E4405F"}},"& .MuiInputLabel-root":{color:"#2d3748"},"& .MuiFormHelperText-root":{color:"#dc2626"}}}),(0,u.jsx)(i.A_L,{fullWidth:!0,label:"Full Name",value:a.name,onChange:e=>l(r=>({...r,name:e.target.value})),error:!!p.name,helperText:p.name,sx:{"& .MuiOutlinedInput-root":{backgroundColor:"#ffffff",color:"#2d3748","& fieldset":{borderColor:"#e2e8f0"},"&:hover fieldset":{borderColor:"#E4405F"},"&.Mui-focused fieldset":{borderColor:"#E4405F"}},"& .MuiInputLabel-root":{color:"#2d3748"},"& .MuiFormHelperText-root":{color:"#dc2626"}}}),(0,u.jsx)(i.A_L,{fullWidth:!0,label:"Email",type:"email",value:a.email,onChange:e=>l(r=>({...r,email:e.target.value})),error:!!p.email,helperText:p.email,InputProps:{startAdornment:(0,u.jsx)(i.jC1,{position:"start",children:(0,u.jsx)(s.Psq,{sx:{color:"#2d3748"}})})},sx:{"& .MuiOutlinedInput-root":{backgroundColor:"#ffffff",color:"#2d3748","& fieldset":{borderColor:"#e2e8f0"},"&:hover fieldset":{borderColor:"#E4405F"},"&.Mui-focused fieldset":{borderColor:"#E4405F"}},"& .MuiInputLabel-root":{color:"#2d3748"},"& .MuiFormHelperText-root":{color:"#dc2626"}}}),(0,u.jsx)(i.A_L,{fullWidth:!0,label:"Password",type:d?"text":"password",value:a.password,onChange:e=>l(r=>({...r,password:e.target.value})),error:!!p.password,helperText:p.password,InputProps:{startAdornment:(0,u.jsx)(i.jC1,{position:"start",children:(0,u.jsx)(s.c_I,{sx:{color:"#2d3748"}})}),endAdornment:(0,u.jsx)(i.jC1,{position:"end",children:(0,u.jsx)(i.K0,{onClick:()=>c(!d),sx:{color:"#2d3748"},children:d?(0,u.jsx)(s.QM4,{}):(0,u.jsx)(s.bvC,{})})})},sx:{"& .MuiOutlinedInput-root":{backgroundColor:"#ffffff",color:"#2d3748","& fieldset":{borderColor:"#e2e8f0"},"&:hover fieldset":{borderColor:"#E4405F"},"&.Mui-focused fieldset":{borderColor:"#E4405F"}},"& .MuiInputLabel-root":{color:"#2d3748"},"& .MuiFormHelperText-root":{color:"#dc2626"}}}),(0,u.jsx)(i.A_L,{fullWidth:!0,label:"Confirm Password",type:x?"text":"password",value:a.confirmPassword,onChange:e=>l(r=>({...r,confirmPassword:e.target.value})),error:!!p.confirmPassword,helperText:p.confirmPassword,InputProps:{endAdornment:(0,u.jsx)(i.jC1,{position:"end",children:(0,u.jsx)(i.K0,{onClick:()=>h(!x),sx:{color:"#2d3748"},children:x?(0,u.jsx)(s.QM4,{}):(0,u.jsx)(s.bvC,{})})})},sx:{"& .MuiOutlinedInput-root":{backgroundColor:"#ffffff",color:"#2d3748","& fieldset":{borderColor:"#e2e8f0"},"&:hover fieldset":{borderColor:"#E4405F"},"&.Mui-focused fieldset":{borderColor:"#E4405F"}},"& .MuiInputLabel-root":{color:"#2d3748"},"& .MuiFormHelperText-root":{color:"#dc2626"}}})]});case 1:return(0,u.jsxs)(i.azJ,{sx:{display:"flex",flexDirection:"column",gap:3,mt:2},children:[(0,u.jsxs)(i.azJ,{children:[(0,u.jsx)(i.o5u,{variant:"body2",sx:{mb:2,color:"#2d3748"},children:"Tell us about yourself (optional)"}),(0,u.jsxs)(i.azJ,{sx:{display:"flex",gap:2,mb:2},children:[(0,u.jsxs)(i.MJN,{fullWidth:!0,children:[(0,u.jsx)(i.l1Y,{sx:{color:"#2d3748"},children:"Gender"}),(0,u.jsxs)(i.l6P,{value:a.gender,onChange:e=>l(r=>({...r,gender:e.target.value})),error:!!p.gender,sx:{color:"#2d3748",backgroundColor:"#ffffff","& .MuiOutlinedInput-notchedOutline":{borderColor:"#e2e8f0"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#E4405F"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#E4405F"}},children:[(0,u.jsx)(i.Drp,{value:"male",children:"Male"}),(0,u.jsx)(i.Drp,{value:"female",children:"Female"}),(0,u.jsx)(i.Drp,{value:"other",children:"Other"}),(0,u.jsx)(i.Drp,{value:"prefer-not-to-say",children:"Prefer not to say"})]})]}),(0,u.jsxs)(i.azJ,{sx:{minWidth:120},children:[(0,u.jsxs)(i.o5u,{variant:"body2",sx:{mb:1,color:"#2d3748"},children:["Age: ",a.age]}),(0,u.jsx)(i.Apm,{value:a.age,onChange:(e,r)=>l(e=>({...e,age:r})),min:18,max:65,sx:{color:"#E4405F","& .MuiSlider-thumb":{backgroundColor:"#E4405F"},"& .MuiSlider-track":{backgroundColor:"#E4405F"}}})]})]})]}),(0,u.jsx)(i.A_L,{fullWidth:!0,label:"Bio (optional)",multiline:!0,rows:3,value:a.bio,onChange:e=>l(r=>({...r,bio:e.target.value})),placeholder:"Tell people about yourself...",sx:{"& .MuiOutlinedInput-root":{backgroundColor:"#ffffff",color:"#2d3748","& fieldset":{borderColor:"#e2e8f0"},"&:hover fieldset":{borderColor:"#E4405F"},"&.Mui-focused fieldset":{borderColor:"#E4405F"}},"& .MuiInputLabel-root":{color:"#2d3748"}}}),(0,u.jsx)(i.$nd,{variant:"outlined",onClick:S,sx:{color:"#2d3748",borderColor:"#e2e8f0",textTransform:"none","&:hover":{borderColor:"#E4405F",backgroundColor:"rgba(228, 64, 95, 0.05)"}},children:"Skip Profile Setup"})]});case 2:return(0,u.jsxs)(i.azJ,{sx:{display:"flex",flexDirection:"column",gap:3,mt:2},children:[(0,u.jsxs)(i.azJ,{children:[(0,u.jsx)(i.o5u,{variant:"h6",sx:{mb:2,color:"#2d3748"},children:"What are you interested in?"}),(0,u.jsx)(i.azJ,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:b.map(e=>(0,u.jsx)(i.vu3,{icon:e.icon,label:e.label,onClick:()=>(e=>{l(r=>({...r,interests:r.interests.includes(e)?r.interests.filter(r=>r!==e):[...r.interests,e]}))})(e.value),variant:a.interests.includes(e.value)?"filled":"outlined",sx:{color:a.interests.includes(e.value)?"white":"#2d3748",backgroundColor:a.interests.includes(e.value)?"#E4405F":"transparent",borderColor:"#e2e8f0","&:hover":{backgroundColor:a.interests.includes(e.value)?"#d63384":"rgba(228, 64, 95, 0.1)"}}},e.value))})]}),(0,u.jsxs)(i.azJ,{children:[(0,u.jsx)(i.o5u,{variant:"h6",sx:{mb:2,color:"#2d3748"},children:"How would you describe your personality?"}),(0,u.jsx)(i.azJ,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:j.map(e=>(0,u.jsx)(i.vu3,{label:e,onClick:()=>(e=>{l(r=>({...r,personality:r.personality.includes(e)?r.personality.filter(r=>r!==e):[...r.personality,e]}))})(e),variant:a.personality.includes(e)?"filled":"outlined",sx:{color:a.personality.includes(e)?"white":"#2d3748",backgroundColor:a.personality.includes(e)?"#E4405F":"transparent",borderColor:"#e2e8f0","&:hover":{backgroundColor:a.personality.includes(e)?"#d63384":"rgba(228, 64, 95, 0.1)"}}},e))})]}),(0,u.jsxs)(i.azJ,{children:[(0,u.jsx)(i.o5u,{variant:"h6",sx:{mb:2,color:"#2d3748"},children:"What are your conversation goals?"}),(0,u.jsx)(i.azJ,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:y.map(e=>(0,u.jsx)(i.vu3,{label:e,onClick:()=>(e=>{l(r=>({...r,goals:r.goals.includes(e)?r.goals.filter(r=>r!==e):[...r.goals,e]}))})(e),variant:a.goals.includes(e)?"filled":"outlined",sx:{color:a.goals.includes(e)?"white":"#2d3748",backgroundColor:a.goals.includes(e)?"#E4405F":"transparent",borderColor:"#e2e8f0","&:hover":{backgroundColor:a.goals.includes(e)?"#d63384":"rgba(228, 64, 95, 0.1)"}}},e))})]})]});case 3:return(0,u.jsxs)(i.azJ,{sx:{display:"flex",flexDirection:"column",gap:3,mt:2},children:[(0,u.jsx)(i.o5u,{variant:"h6",sx:{color:"#2d3748"},children:"Set your preferences"}),(0,u.jsxs)(i.MJN,{fullWidth:!0,children:[(0,u.jsx)(i.l1Y,{sx:{color:"#2d3748"},children:"Default Conversation Tone"}),(0,u.jsxs)(i.l6P,{value:a.defaultTone,onChange:e=>l(r=>({...r,defaultTone:e.target.value})),sx:{color:"#2d3748",backgroundColor:"#ffffff","& .MuiOutlinedInput-notchedOutline":{borderColor:"#e2e8f0"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#E4405F"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#E4405F"}},children:[(0,u.jsx)(i.Drp,{value:"flirty",children:"Flirty"}),(0,u.jsx)(i.Drp,{value:"friendly",children:"Friendly"}),(0,u.jsx)(i.Drp,{value:"playful",children:"Playful"}),(0,u.jsx)(i.Drp,{value:"serious",children:"Serious"}),(0,u.jsx)(i.Drp,{value:"casual",children:"Casual"})]})]}),(0,u.jsx)(i.azJ,{children:(0,u.jsx)(i.ip9,{control:(0,u.jsx)(i.dOG,{checked:a.enableNotifications,onChange:e=>l(r=>({...r,enableNotifications:e.target.checked})),sx:{"& .MuiSwitch-switchBase.Mui-checked":{color:"#E4405F"},"& .MuiSwitch-switchBase.Mui-checked + .MuiSwitch-track":{backgroundColor:"#E4405F"}}}),label:"Enable notifications",sx:{color:"#2d3748"}})}),(0,u.jsx)(i.azJ,{children:(0,u.jsx)(i.ip9,{control:(0,u.jsx)(i.dOG,{checked:a.autoGenerate,onChange:e=>l(r=>({...r,autoGenerate:e.target.checked})),sx:{"& .MuiSwitch-switchBase.Mui-checked":{color:"#E4405F"},"& .MuiSwitch-switchBase.Mui-checked + .MuiSwitch-track":{backgroundColor:"#E4405F"}}}),label:"Auto-generate AI replies",sx:{color:"#2d3748"}})}),(0,u.jsx)(i.FcD,{severity:"info",sx:{background:"#eff6ff",border:"1px solid #bfdbfe",color:"#1e40af","& .MuiAlert-icon":{color:"#3b82f6"}},children:"You can change these preferences anytime in the Settings page."})]});default:return null}};return(0,u.jsxs)(i.azJ,{children:[(0,u.jsx)(i.o5u,{variant:"body1",sx:{mb:3,color:"#2d3748"},children:"Create your account and set up your AI conversation assistant"}),(0,u.jsx)(i.C1Z,{activeStep:o,orientation:"vertical",children:v.map((e,r)=>(0,u.jsxs)(i.pnw,{children:[(0,u.jsx)(i.DSl,{sx:{"& .MuiStepLabel-label":{color:"#2d3748"},"& .MuiStepLabel-label.Mui-active":{color:"#E4405F"},"& .MuiStepLabel-label.Mui-completed":{color:"#2d3748"},"& .MuiStepIcon-root":{color:"#e2e8f0"},"& .MuiStepIcon-root.Mui-active":{color:"#E4405F"},"& .MuiStepIcon-root.Mui-completed":{color:"#10b981"}},children:e}),(0,u.jsxs)(i.WSF,{children:[M(r),(0,u.jsxs)(i.azJ,{sx:{mb:2,mt:2},children:[p.submit&&(0,u.jsx)(i.FcD,{severity:"error",sx:{mb:2,background:"#fef2f2",border:"1px solid #fecaca",color:"#dc2626","& .MuiAlert-icon":{color:"#dc2626"}},children:p.submit}),(0,u.jsx)(i.$nd,{variant:"contained",onClick:r===v.length-1||g&&3===r?z:C,sx:{mr:1,background:"linear-gradient(135deg, #E4405F 0%, #FCAF45 100%)",textTransform:"none"},children:r===v.length-1||g&&3===r?"Create Account":"Continue"}),r>0&&!g&&(0,u.jsx)(i.$nd,{onClick:k,sx:{textTransform:"none",color:"#2d3748"},children:"Back"})]})]})]},e))})]})},P=e=>{let{open:r,onClose:o,onLogin:n}=e;const[a,l]=(0,t.useState)(0),[d,c]=(0,t.useState)(""),[x,h]=(0,t.useState)(""),[p,f]=(0,t.useState)(!1),[g,m]=(0,t.useState)(""),[b,j]=(0,t.useState)(!1),y=async()=>{if(d&&x){j(!0),m("");try{const e=await fetch("https://3e79a6ace678.ngrok-free.app/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:d,password:x})}),r=await e.json();r.success?(n(r.user),o()):m(r.error||"Login failed")}catch(g){console.error("Login error:",g),m("Network error. Please try again.")}finally{j(!1)}}else m("Please enter both username and password")},v=e=>{"Enter"===e.key&&0===a&&y()},w=()=>{c(""),h(""),m(""),j(!1),f(!1)},C=()=>{w(),l(0),o()};return(0,u.jsxs)(i.lGe,{open:r,onClose:C,maxWidth:"sm",fullWidth:!0,PaperProps:{"data-testid":"login-dialog",sx:{background:"#ffffff",borderRadius:"16px",color:"#2d3748",boxShadow:"0 20px 60px rgba(0,0,0,0.15)",border:"1px solid #e2e8f0"}},children:[(0,u.jsxs)(i.L33,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",background:"linear-gradient(135deg, #E4405F 0%, #FCAF45 100%)",borderRadius:"16px 16px 0 0",color:"white"},children:[(0,u.jsx)(i.o5u,{variant:"h5",fontWeight:600,children:"Welcome to AI Wingman"}),(0,u.jsx)(i.K0,{onClick:C,sx:{color:"white"},children:(0,u.jsx)(s.bm,{})})]}),(0,u.jsxs)(i.Cff,{sx:{p:0},children:[(0,u.jsxs)(i.tUM,{value:a,onChange:(e,r)=>{l(r),w()},centered:!0,sx:{borderBottom:"1px solid #e2e8f0","& .MuiTab-root":{color:"#2d3748",textTransform:"none",fontSize:"1rem","&.Mui-selected":{color:"#E4405F"}},"& .MuiTabs-indicator":{backgroundColor:"#E4405F"}},children:[(0,u.jsx)(i.ozo,{label:"Sign In"}),(0,u.jsx)(i.ozo,{label:"Sign Up"})]}),(0,u.jsx)(i.azJ,{sx:{p:3},children:0===a?(0,u.jsx)(i.zWh,{in:0===a,timeout:300,children:(0,u.jsxs)(i.azJ,{children:[(0,u.jsx)(i.o5u,{variant:"body1",sx:{mb:3,color:"#2d3748"},children:"Sign in to access your AI-powered conversation assistant"}),g&&(0,u.jsx)(i.FcD,{severity:"error",sx:{mb:2,background:"#fef2f2",border:"1px solid #fecaca",color:"#dc2626","& .MuiAlert-icon":{color:"#dc2626"}},children:g}),(0,u.jsx)(i.A_L,{fullWidth:!0,label:"Username",value:d,onChange:e=>c(e.target.value),onKeyPress:v,sx:{mb:2,"& .MuiOutlinedInput-root":{backgroundColor:"#ffffff",color:"#2d3748","& fieldset":{borderColor:"#e2e8f0"},"&:hover fieldset":{borderColor:"#E4405F"},"&.Mui-focused fieldset":{borderColor:"#E4405F"}},"& .MuiInputLabel-root":{color:"#2d3748","&.Mui-focused":{color:"#E4405F"}}},InputProps:{startAdornment:(0,u.jsx)(i.jC1,{position:"start",children:(0,u.jsx)(s._Au,{sx:{color:"#2d3748"}})})}}),(0,u.jsx)(i.A_L,{fullWidth:!0,label:"Password",type:p?"text":"password",value:x,onChange:e=>h(e.target.value),onKeyPress:v,sx:{mb:3,"& .MuiOutlinedInput-root":{backgroundColor:"#ffffff",color:"#2d3748","& fieldset":{borderColor:"#e2e8f0"},"&:hover fieldset":{borderColor:"#E4405F"},"&.Mui-focused fieldset":{borderColor:"#E4405F"}},"& .MuiInputLabel-root":{color:"#2d3748","&.Mui-focused":{color:"#E4405F"}}},InputProps:{startAdornment:(0,u.jsx)(i.jC1,{position:"start",children:(0,u.jsx)(s.c_I,{sx:{color:"#2d3748"}})}),endAdornment:(0,u.jsx)(i.jC1,{position:"end",children:(0,u.jsx)(i.K0,{onClick:()=>f(!p),sx:{color:"#2d3748"},children:p?(0,u.jsx)(s.QM4,{}):(0,u.jsx)(s.bvC,{})})})}}),(0,u.jsx)(i.$nd,{fullWidth:!0,variant:"contained",onClick:y,disabled:b,sx:{background:"linear-gradient(135deg, #E4405F 0%, #FCAF45 100%)",py:1.5,fontSize:"1rem",borderRadius:"8px",textTransform:"none",boxShadow:"0 4px 16px rgba(228, 64, 95, 0.3)","&:hover":{boxShadow:"0 6px 20px rgba(228, 64, 95, 0.4)"},"&:disabled":{opacity:.7}},children:b?"Signing In...":"Sign In"}),(0,u.jsx)(i.o5u,{variant:"body2",sx:{mt:2,textAlign:"center",color:"#6b7280"},children:"Demo credentials: iulian_plop / Iulian2006."})]})}):(0,u.jsx)(i.zWh,{in:1===a,timeout:300,children:(0,u.jsx)(i.azJ,{children:(0,u.jsx)(E,{onSignUp:e=>{n({username:e.username,isAuthenticated:!0,profile:{name:e.name,email:e.email,hasCompletedProfile:e.hasCompletedProfile,...e.profile}}),o()}})})})})]})]})},_=e=>{let{onLogin:r}=e;const[o,n]=(0,t.useState)(!1),[a,l]=(0,t.useState)(0),[d]=(0,t.useState)([{id:1,sender:"girl",text:"Hey, what's your favorite way to spend weekends?",timestamp:"2:30 PM"},{id:2,sender:"boy",text:"I love hiking and trying new restaurants! What about you?",timestamp:"2:32 PM"},{id:3,sender:"girl",text:"That sounds fun! I'm more into movies and coffee shops",timestamp:"2:35 PM"}]),[c]=(0,t.useState)(["Perfect! How about we combine both? Coffee and a movie this weekend? \ud83d\ude0a","I love that! Maybe we could do a movie night and then grab coffee after?","That's awesome! What's your favorite coffee shop? I'd love to check it out sometime"]),x=((0,i.DPo)(),[{icon:(0,u.jsx)(s.jCi,{sx:{fontSize:48,color:"#E4405F"}}),title:"AI Message Crafting",description:"Get personalized reply suggestions that match your style and increase response rates",stat:"+300% response rate"},{icon:(0,u.jsx)(s.kBJ,{sx:{fontSize:48,color:"#8b5cf6"}}),title:"Smart Photo Analysis",description:"Analyze conversation context and photos to craft perfect, contextual responses",stat:"85% match success"},{icon:(0,u.jsx)(s.ntg,{sx:{fontSize:48,color:"#FCAF45"}}),title:"Success Analytics",description:"Track your conversation success, response rates, and dating progress with detailed insights",stat:"+150% dates scheduled"}]),h=[{icon:(0,u.jsx)(s._OO,{sx:{fontSize:40,color:"#E4405F"}}),title:"Screenshot Your Chat",description:"Upload your Instagram conversation screenshot in seconds"},{icon:(0,u.jsx)(s.U1p,{sx:{fontSize:40,color:"#8b5cf6"}}),title:"AI Analyzes & Suggests",description:"Our AI reads the context and generates perfect replies"},{icon:(0,u.jsx)(s.NGG,{sx:{fontSize:40,color:"#FCAF45"}}),title:"Send & Get Results",description:"Use our suggestions and watch your success rate soar"}];return(0,u.jsxs)(i.azJ,{sx:{background:"#ffffff",minHeight:"100vh"},children:[(0,u.jsx)(i.azJ,{sx:{position:"sticky",top:0,zIndex:100,background:"rgba(255,255,255,0.95)",backdropFilter:"blur(10px)",borderBottom:"1px solid #e2e8f0"},children:(0,u.jsx)(i.mcf,{maxWidth:"xl",children:(0,u.jsxs)(i.azJ,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",py:2},children:[(0,u.jsx)(i.o5u,{variant:"h5",sx:{fontWeight:700,color:"#000"},children:"AI Wingman"}),(0,u.jsx)(i.$nd,{variant:"contained",onClick:()=>n(!0),sx:{background:"linear-gradient(135deg, #E4405F 0%, #FCAF45 100%)",borderRadius:"8px",textTransform:"none",fontWeight:600},children:"Sign In"})]})})}),(0,u.jsx)(i.mcf,{maxWidth:"xl",sx:{py:{xs:8,md:15}},children:(0,u.jsxs)(i.xA9,{container:!0,spacing:6,alignItems:"center",children:[(0,u.jsxs)(i.xA9,{item:!0,xs:12,md:7,children:[(0,u.jsx)(i.o5u,{variant:"h1",sx:{fontSize:{xs:"2.5rem",md:"3.5rem"},fontWeight:700,color:"#000",lineHeight:1.1,mb:3},children:"Turn Your Instagram DMs Into Dating Success"}),(0,u.jsx)(i.o5u,{variant:"h5",sx:{fontSize:{xs:"1.125rem",md:"1.875rem"},color:"#2d3748",fontWeight:400,lineHeight:1.3,mb:4},children:"AI-powered conversation assistant that helps you get more matches, better responses, and actual dates"}),(0,u.jsx)(i.azJ,{sx:{display:"flex",gap:2,mb:4,flexWrap:"wrap"},children:(0,u.jsx)(i.$nd,{variant:"contained",size:"large",onClick:()=>n(!0),sx:{background:"linear-gradient(135deg, #E4405F 0%, #FCAF45 100%)",px:4,py:2,fontSize:"1.1rem",borderRadius:"8px",textTransform:"none",fontWeight:600,boxShadow:"0 4px 20px rgba(228, 64, 95, 0.3)","&:hover":{transform:"translateY(-2px)",boxShadow:"0 8px 30px rgba(228, 64, 95, 0.4)"}},children:"Try It Out"})})]}),(0,u.jsx)(i.xA9,{item:!0,xs:12,md:5,children:(0,u.jsxs)(i.azJ,{sx:{position:"relative",background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",borderRadius:"16px",p:4},children:[(0,u.jsx)(i.o5u,{variant:"h6",sx:{mb:3,color:"#2d3748",textAlign:"center"},children:"Live Demo Preview"}),(0,u.jsx)(i.azJ,{sx:{background:"white",borderRadius:"12px",p:3,mb:3,boxShadow:"0 4px 12px rgba(0,0,0,0.1)",maxHeight:"300px",overflowY:"auto"},children:d.map(e=>(0,u.jsx)(i.azJ,{sx:{mb:2,textAlign:"boy"===e.sender?"right":"left"},children:(0,u.jsxs)(i.azJ,{sx:{display:"inline-block",maxWidth:"80%",background:"boy"===e.sender?"#E4405F":"#f1f5f9",color:"boy"===e.sender?"white":"#2d3748",borderRadius:"12px",p:2,position:"relative"},children:[(0,u.jsx)(i.o5u,{variant:"body2",sx:{mb:.5},children:e.text}),(0,u.jsx)(i.o5u,{variant:"caption",sx:{opacity:.7,fontSize:"0.7rem"},children:e.timestamp})]})},e.id))}),(0,u.jsxs)(i.azJ,{sx:{background:"linear-gradient(135deg, #E4405F 0%, #FCAF45 100%)",borderRadius:"12px",p:3,color:"white"},children:[(0,u.jsx)(i.o5u,{variant:"subtitle2",sx:{mb:2,fontWeight:600},children:"\ud83e\udd16 AI Suggestions"}),c.map((e,r)=>(0,u.jsx)(i.azJ,{sx:{background:"rgba(255,255,255,0.1)",borderRadius:"8px",p:2,mb:1,cursor:"pointer",transition:"all 0.2s ease","&:hover":{background:"rgba(255,255,255,0.2)",transform:"translateX(4px)"}},children:(0,u.jsx)(i.o5u,{variant:"body2",sx:{fontSize:"0.9rem"},children:e})},r))]}),(0,u.jsx)(i.azJ,{sx:{position:"absolute",top:-10,right:-10,background:"white",borderRadius:"12px",p:2,boxShadow:"0 8px 25px rgba(0,0,0,0.15)",border:"2px solid #E4405F"},children:(0,u.jsx)(i.o5u,{variant:"caption",color:"#E4405F",fontWeight:600,children:"\u2b50 95% Match Rate"})})]})})]})}),(0,u.jsx)(i.azJ,{sx:{background:"#f8fafc",py:4},children:(0,u.jsx)(i.mcf,{maxWidth:"lg",children:(0,u.jsxs)(i.azJ,{sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:{xs:4,md:8},flexWrap:"wrap"},children:[(0,u.jsxs)(i.azJ,{textAlign:"center",children:[(0,u.jsx)(i.o5u,{variant:"h4",fontWeight:700,color:"#000",children:"25,000+"}),(0,u.jsx)(i.o5u,{variant:"body2",color:"#2d3748",children:"Users"})]}),(0,u.jsxs)(i.azJ,{textAlign:"center",children:[(0,u.jsx)(i.o5u,{variant:"h4",fontWeight:700,color:"#000",children:"85%"}),(0,u.jsx)(i.o5u,{variant:"body2",color:"#2d3748",children:"Match Rate"})]}),(0,u.jsxs)(i.azJ,{textAlign:"center",children:[(0,u.jsx)(i.o5u,{variant:"h4",fontWeight:700,color:"#000",children:"<2s"}),(0,u.jsx)(i.o5u,{variant:"body2",color:"#2d3748",children:"Response Time"})]})]})})}),(0,u.jsxs)(i.mcf,{maxWidth:"lg",sx:{py:15},children:[(0,u.jsx)(i.o5u,{variant:"h2",textAlign:"center",sx:{fontSize:{xs:"2rem",md:"3rem"},fontWeight:700,color:"#000",mb:8},children:"How It Works"}),(0,u.jsx)(i.xA9,{container:!0,spacing:6,children:h.map((e,r)=>(0,u.jsx)(i.xA9,{item:!0,xs:12,md:4,children:(0,u.jsxs)(i.azJ,{textAlign:"center",children:[(0,u.jsx)(i.azJ,{sx:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:80,height:80,borderRadius:"50%",background:"linear-gradient(135deg, #E4405F 0%, #FCAF45 100%)",mb:3},children:e.icon}),(0,u.jsx)(i.o5u,{variant:"h5",fontWeight:600,color:"#000",sx:{mb:2},children:e.title}),(0,u.jsx)(i.o5u,{variant:"body1",color:"#2d3748",sx:{lineHeight:1.6},children:e.description})]})},r))})]}),(0,u.jsx)(i.azJ,{sx:{background:"#f8fafc",py:15},children:(0,u.jsxs)(i.mcf,{maxWidth:"lg",children:[(0,u.jsx)(i.o5u,{variant:"h2",textAlign:"center",sx:{fontSize:{xs:"2rem",md:"3rem"},fontWeight:700,color:"#000",mb:8},children:"Core Features"}),(0,u.jsx)(i.xA9,{container:!0,spacing:6,children:x.map((e,r)=>(0,u.jsx)(i.xA9,{item:!0,xs:12,md:4,children:(0,u.jsx)(i.ZpM,{sx:{height:"100%",borderRadius:"16px",border:"none",boxShadow:"0 4px 20px rgba(0,0,0,0.08)",transition:"all 0.3s ease","&:hover":{transform:"translateY(-8px)",boxShadow:"0 20px 40px rgba(0,0,0,0.12)"}},children:(0,u.jsxs)(i.Wux,{sx:{p:4,textAlign:"center"},children:[(0,u.jsx)(i.azJ,{sx:{mb:3},children:e.icon}),(0,u.jsx)(i.o5u,{variant:"h5",fontWeight:600,color:"#000",sx:{mb:2},children:e.title}),(0,u.jsx)(i.o5u,{variant:"body1",color:"#2d3748",sx:{mb:3,lineHeight:1.6},children:e.description}),(0,u.jsx)(i.vu3,{label:e.stat,sx:{background:"linear-gradient(135deg, #E4405F 0%, #FCAF45 100%)",color:"white",fontWeight:600}})]})})},r))})]})}),(0,u.jsx)(i.azJ,{sx:{background:"#f8fafc",py:15},children:(0,u.jsxs)(i.mcf,{maxWidth:"md",children:[(0,u.jsx)(i.o5u,{variant:"h2",textAlign:"center",sx:{fontSize:{xs:"2rem",md:"3rem"},fontWeight:700,color:"#000",mb:8},children:"Frequently Asked Questions"}),[{question:"How does the AI understand my conversation style?",answer:"Our AI analyzes your past successful conversations and learns your unique personality, tone, and preferences to generate replies that sound authentically like you."},{question:"Is it safe to upload my conversations?",answer:"Absolutely. All conversations are processed locally and encrypted. We never store your personal data or share it with third parties."},{question:"Can I use this with other dating apps?",answer:"Yes! While optimized for Instagram, our AI works with screenshots from any messaging platform including Tinder, Bumble, Hinge, and more."},{question:"How quickly does it generate suggestions?",answer:"Most suggestions are generated in under 2 seconds. Our AI is optimized for real-time conversations."}].map((e,r)=>(0,u.jsxs)(i.nD3,{sx:{mb:2,borderRadius:"12px !important","&:before":{display:"none"},boxShadow:"0 2px 10px rgba(0,0,0,0.08)"},children:[(0,u.jsx)(i.Xo_,{expandIcon:(0,u.jsx)(s.COR,{}),sx:{borderRadius:"12px","& .MuiAccordionSummary-content":{my:2}},children:(0,u.jsx)(i.o5u,{variant:"h6",fontWeight:600,color:"#000",children:e.question})}),(0,u.jsx)(i.ZiS,{children:(0,u.jsx)(i.o5u,{color:"#2d3748",sx:{lineHeight:1.6},children:e.answer})})]},r))]})}),(0,u.jsxs)(i.mcf,{maxWidth:"md",sx:{py:15,textAlign:"center"},children:[(0,u.jsx)(i.o5u,{variant:"h2",sx:{fontSize:{xs:"2rem",md:"3rem"},fontWeight:700,color:"#000",mb:3},children:"Ready to Get More Dates?"}),(0,u.jsx)(i.o5u,{variant:"h6",color:"#2d3748",sx:{mb:6,lineHeight:1.6},children:"Join thousands of users who've transformed their dating game with AI"}),(0,u.jsx)(i.$nd,{variant:"contained",size:"large",onClick:()=>n(!0),sx:{background:"linear-gradient(135deg, #E4405F 0%, #FCAF45 100%)",px:6,py:3,fontSize:"1.25rem",borderRadius:"12px",textTransform:"none",fontWeight:600,boxShadow:"0 8px 30px rgba(228, 64, 95, 0.3)","&:hover":{transform:"translateY(-4px)",boxShadow:"0 12px 40px rgba(228, 64, 95, 0.4)"}},children:"Try It Out Now"})]}),(0,u.jsx)(P,{open:o,onClose:()=>n(!1),onLogin:r})]})},O=(0,t.createContext)(),T=()=>{const e=(0,t.useContext)(O);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},J=e=>{let{children:r}=e;const[o,n]=(0,t.useState)(null),[a,i]=(0,t.useState)(!1),[s,l]=(0,t.useState)(!0);(0,t.useEffect)(()=>{(async()=>{try{const r=localStorage.getItem("ai_wingman_user");if(r){const o=JSON.parse(r);n(o),i(!0);try{await fetch("https://3e79a6ace678.ngrok-free.app/api/auth/set-user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:o.username})})}catch(e){console.error("Error setting user context:",e)}}}catch(e){console.error("Error loading user data:",e),localStorage.removeItem("ai_wingman_user")}finally{l(!1)}})()},[]);const d=async e=>{try{const r=await fetch("https://3e79a6ace678.ngrok-free.app/api/user-profile");if(r.ok){const o=await r.json(),t={...e,profile:{...e.profile,...o,hasCompletedProfile:!0}};n(t),localStorage.setItem("ai_wingman_user",JSON.stringify(t))}}catch(r){console.error("Error fetching existing profile:",r)}},c={user:o,isAuthenticated:a,loading:s,login:async e=>{try{n(e),i(!0),localStorage.setItem("ai_wingman_user",JSON.stringify(e)),await fetch("https://3e79a6ace678.ngrok-free.app/api/auth/set-user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.username})}),"iulian_plop"===e.username&&d(e)}catch(r){console.error("Error saving user data:",r)}},logout:()=>{n(null),i(!1),localStorage.removeItem("ai_wingman_user")},updateUserProfile:e=>{if(o){const r={...o,profile:{...o.profile,...e}};n(r),localStorage.setItem("ai_wingman_user",JSON.stringify(r))}}};return(0,u.jsx)(O.Provider,{value:c,children:r})},R=[{label:"Inbox",icon:(0,u.jsx)(s.bOv,{}),path:"/inbox",aria:"Inbox"},{label:"Photo AI",icon:(0,u.jsx)(s.ryu,{}),path:"/photo-ai-response",aria:"Photo AI Response"},{label:"Profiles",icon:(0,u.jsx)(s.g_3,{}),path:"/profiles",aria:"Profiles"},{label:"AI Assistant",icon:(0,u.jsx)(s.ryu,{}),path:"/ai-assistant",aria:"AI Assistant"},{label:"Conversation Simulator",icon:(0,u.jsx)(s.NoT,{}),path:"/simulator",aria:"Conversation Simulator"},{label:"Analytics",icon:(0,u.jsx)(s.EsT,{}),path:"/analytics",aria:"Analytics"},{label:"Settings",icon:(0,u.jsx)(s.wB_,{}),path:"/settings",aria:"Settings"}];function D(){var e,r,o,n;const l=(0,a.zy)(),d=(0,a.Zp)(),c=(0,i.DPo)(),[x,h]=t.useState(!1),{user:p,logout:f}=T();return t.useEffect(()=>{document.documentElement.setAttribute("data-theme",x?"dark":"")},[x]),(0,u.jsx)("nav",{"aria-label":"Main navigation",children:(0,u.jsx)(i.hwv,{position:"fixed",elevation:0,sx:{bgcolor:"rgba(255,255,255,0.7)",backdropFilter:"blur(10px)",boxShadow:"0 2px 12px 0 rgba(0,0,0,0.04)",borderBottom:`1px solid ${c.palette.divider}`,zIndex:1201,px:{xs:.5,md:2}},children:(0,u.jsxs)(i.M7E,{sx:{minHeight:64,display:"flex",justifyContent:"space-between",gap:2},children:[(0,u.jsxs)(i.azJ,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,u.jsx)("button",{onClick:()=>d("/inbox"),"aria-label":"Go to Inbox",style:{background:"none",border:"none",fontSize:24,fontWeight:700,letterSpacing:1,color:c.palette.primary.main,marginRight:16,cursor:"pointer",outline:"none",transition:"color 0.2s"},onMouseOver:e=>e.currentTarget.style.color=c.palette.secondary.main,onMouseOut:e=>e.currentTarget.style.color=c.palette.primary.main,children:"AI Wingman"}),(0,u.jsx)(i.azJ,{sx:{display:{xs:"none",md:"flex"},gap:2},children:R.map(e=>{const r=l.pathname.startsWith(e.path);return(0,u.jsxs)("button",{className:"nav-item","aria-label":e.aria,"aria-current":r?"page":void 0,style:{background:"none",border:"none",color:r?c.palette.primary.main:c.palette.text.secondary,fontWeight:r?700:400,borderBottom:r?"2.5px solid":"2.5px solid transparent",borderColor:r?c.palette.primary.main:"transparent",transition:"color 0.2s, border-color 0.2s",minWidth:56,padding:"8px 12px",cursor:"pointer",outline:"none",fontSize:14,display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"transparent"},onClick:()=>d(e.path),children:[(0,u.jsx)(i.m_M,{title:e.label,arrow:!0,placement:"bottom",children:(0,u.jsx)("span",{children:e.icon})}),(0,u.jsx)("span",{style:{fontSize:12,marginTop:2},children:e.label})]},e.label)})})]}),(0,u.jsxs)(i.azJ,{sx:{display:"flex",alignItems:"center",gap:1,ml:2},children:[(0,u.jsx)(i.K0,{"aria-label":"Toggle dark mode",onClick:()=>h(e=>!e),sx:{color:"primary.main",mr:1},children:x?(0,u.jsx)(s.xDI,{}):(0,u.jsx)(s.HWd,{})}),(0,u.jsx)(i.o5u,{variant:"body1",sx:{fontWeight:600,color:"primary.main",mr:1},children:(null===p||void 0===p||null===(e=p.profile)||void 0===e?void 0:e.name)||(null===p||void 0===p?void 0:p.username)}),(0,u.jsx)(i.euF,{sx:{width:36,height:36,bgcolor:"var(--accent-blue)",color:"white",fontWeight:700,fontSize:18,border:"2px solid var(--white)"},children:(null===p||void 0===p||null===(r=p.profile)||void 0===r||null===(o=r.name)||void 0===o?void 0:o.charAt(0))||(null===p||void 0===p||null===(n=p.username)||void 0===n?void 0:n.charAt(0))||"Y"}),(0,u.jsx)(i.m_M,{title:"Logout",enterDelay:500,children:(0,u.jsx)(i.K0,{onClick:f,sx:{ml:1,color:"primary.main","&:hover":{backgroundColor:"rgba(0,0,0,0.1)"}},"aria-label":"Logout",children:(0,u.jsx)(s.fQS,{})})})]})]})})})}function L(){const e=(0,a.zy)(),r=(0,a.Zp)(),o=R.slice(0,4);return(0,u.jsx)(i.tu9,{elevation:8,sx:{position:"fixed",left:0,right:0,bottom:0,zIndex:1300,bgcolor:"rgba(255,255,255,0.7)",backdropFilter:"blur(10px)",borderTop:"1px solid #eee",display:{xs:"flex",md:"none"}},children:(0,u.jsxs)(i.imG,{showLabels:!0,value:o.findIndex(r=>e.pathname.startsWith(r.path)),onChange:(e,t)=>r(o[t].path),sx:{width:"100%",bgcolor:"transparent"},children:[o.map((e,r)=>(0,u.jsx)(i.W1i,{label:e.label,icon:e.icon,"aria-label":e.aria,sx:{minWidth:44,minHeight:44}},e.label)),(0,u.jsx)(i.W1i,{label:"More",icon:(0,u.jsx)("span",{style:{fontSize:24},children:"\u2630"}),"aria-label":"More options",sx:{minWidth:44,minHeight:44}})]})})}function N(){const e=(0,i.Ubj)("(max-width: 767px)");return(0,u.jsxs)(a.Kd,{children:[(0,u.jsx)(i.n8S,{}),!e&&(0,u.jsx)(D,{}),(0,u.jsxs)(i.azJ,{sx:{minHeight:"100vh",width:"100vw",pt:e?0:"64px",pb:e?"64px":0,display:"flex",flexDirection:"column"},children:[(0,u.jsx)(i.azJ,{component:"main",sx:{flexGrow:1,bgcolor:"transparent",p:3},children:(0,u.jsxs)(a.BV,{children:[(0,u.jsx)(a.qh,{path:"/inbox",element:(0,u.jsx)(h,{})}),(0,u.jsx)(a.qh,{path:"/inbox/:id",element:(0,u.jsx)(b,{})}),(0,u.jsx)(a.qh,{path:"/profiles",element:(0,u.jsx)(z,{})}),(0,u.jsx)(a.qh,{path:"/ai-assistant",element:(0,u.jsx)(F,{})}),(0,u.jsx)(a.qh,{path:"/simulator",element:(0,u.jsx)(I,{})}),(0,u.jsx)(a.qh,{path:"/analytics",element:(0,u.jsx)(M,{})}),(0,u.jsx)(a.qh,{path:"/analytics/:user_id",element:(0,u.jsx)(M,{})}),(0,u.jsx)(a.qh,{path:"/settings",element:(0,u.jsx)(W,{})}),(0,u.jsx)(a.qh,{path:"/photo-ai-response",element:(0,u.jsx)(A,{})}),(0,u.jsx)(a.qh,{path:"*",element:(0,u.jsx)(h,{})})]})}),e&&(0,u.jsx)(L,{})]})]})}function H(){const{isAuthenticated:e,loading:r,login:o}=T();return r?(0,u.jsx)(i.azJ,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:(0,u.jsx)(i.PaH,{size:60,sx:{color:"white"}})}):e?(0,u.jsx)(N,{}):(0,u.jsx)(_,{onLogin:o})}const $=function(){return(0,u.jsxs)(J,{children:[(0,u.jsx)(i.kH5,{styles:{".MuiMenuItem-root:hover":{backgroundColor:"rgba(102, 126, 234, 0.08) !important",color:"inherit !important"},".MuiIconButton-root:hover":{backgroundColor:"rgba(102, 126, 234, 0.08) !important",color:"inherit !important"},".MuiListItem-root:hover":{backgroundColor:"rgba(102, 126, 234, 0.08) !important",color:"inherit !important"},".MuiTableRow-root:hover":{backgroundColor:"rgba(102, 126, 234, 0.08) !important"},".MuiButton-root:hover":{backgroundColor:"rgba(102, 126, 234, 0.08) !important"},".MuiButtonBase-root:hover":{backgroundColor:"rgba(102, 126, 234, 0.08) !important"},".MuiCard-root:hover":{boxShadow:"0 4px 20px rgba(102, 126, 234, 0.1) !important"},".MuiTouchRipple-root":{color:"rgba(102, 126, 234, 0.3) !important"},".MuiTouchRipple-child":{backgroundColor:"rgba(102, 126, 234, 0.3) !important"},".MuiBackdrop-root":{backgroundColor:"rgba(0, 0, 0, 0.2) !important"},".MuiDialog-container":{backgroundColor:"transparent !important"},'.MuiDialog-paper:not([data-testid="login-dialog"])':{backgroundColor:"white !important",color:"black !important"},'.MuiDialogTitle-root:not([data-testid="login-dialog"] *)':{backgroundColor:"white !important",color:"black !important"},'.MuiDialogContent-root:not([data-testid="login-dialog"] *)':{backgroundColor:"white !important",color:"black !important"},'.MuiDialogActions-root:not([data-testid="login-dialog"] *)':{backgroundColor:"white !important",color:"black !important"},".MuiSelect-root:hover .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(102, 126, 234, 0.5) !important"}}}),(0,u.jsx)(H,{})]})};n.createRoot(document.getElementById("root")).render((0,u.jsx)(t.StrictMode,{children:(0,u.jsx)($,{})}))},3862:(e,r,o)=>{o.d(r,{$t:()=>d});const t=o(4344).Ay.create({baseURL:"localhost"!==window.location.hostname&&"127.0.0.1"!==window.location.hostname?`${window.location.protocol}//${window.location.host}`:"http://127.0.0.1:5000",timeout:1e4,headers:{"Content-Type":"application/json"}}),n=new Map,a=new Map,i=e=>{const r=a.get(e);return r&&(o=r.timestamp,Date.now()-o<3e5)?r.data:(a.delete(e),null);var o},s=async(e,r)=>{if(n.has(e))return n.get(e);const o=r();n.set(e,o);try{return await o}finally{n.delete(e)}},l={async get(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n=((e,r)=>`${e}?${JSON.stringify(r||{})}`)(e,r);if(o){const e=i(n);if(e)return e}return s(`GET:${n}`,async()=>{console.log(`Making API request to: ${t.defaults.baseURL}${e}`);try{const l=await t.get(e,{params:r});return console.log("API response received:",l.data),o&&(i=n,s=l.data,a.set(i,{data:s,timestamp:Date.now()})),l.data}catch(l){throw console.error("API request failed:",l),console.error("Request URL:",`${t.defaults.baseURL}${e}`),l}var i,s})},async post(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=`POST:${e}:${JSON.stringify(r)}`;return s(o,async()=>(await t.post(e,r)).data)},async put(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(await t.put(e,r)).data},delete:async e=>(await t.delete(e)).data,clearCache(e){for(const r of a.keys())r.includes(e)&&a.delete(r)},clearAllCache(){a.clear()}},d={getAll:async()=>l.get("/api/profiles",{},!0),getById:async e=>l.get(`/api/profiles/${e}`,{},!0),async update(e,r){const o=await l.put(`/api/profiles/${e}`,r);return l.clearCache("/api/profiles"),o},async delete(e){const r=await l.delete(`/api/profiles/${e}`);return l.clearCache("/api/profiles"),r},async importConversation(e){const r=await l.post("/api/import-conversation",e);return l.clearCache("/api/profiles"),r}};t.interceptors.response.use(e=>e,e=>{var r;return console.error("API Error:",e),401===(null===(r=e.response)||void 0===r?void 0:r.status)&&(window.location.href="/login"),Promise.reject(e)})}},r={};function o(t){var n=r[t];if(void 0!==n)return n.exports;var a=r[t]={exports:{}};return e[t].call(a.exports,a,a.exports,o),a.exports}o.m=e,(()=>{var e=[];o.O=(r,t,n,a)=>{if(!t){var i=1/0;for(c=0;c<e.length;c++){t=e[c][0],n=e[c][1],a=e[c][2];for(var s=!0,l=0;l<t.length;l++)(!1&a||i>=a)&&Object.keys(o.O).every(e=>o.O[e](t[l]))?t.splice(l--,1):(s=!1,a<i&&(i=a));if(s){e.splice(c--,1);var d=n();void 0!==d&&(r=d)}}return r}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[t,n,a]}})(),o.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return o.d(r,{a:r}),r},(()=>{var e,r=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;o.t=function(t,n){if(1&n&&(t=this(t)),8&n)return t;if("object"===typeof t&&t){if(4&n&&t.__esModule)return t;if(16&n&&"function"===typeof t.then)return t}var a=Object.create(null);o.r(a);var i={};e=e||[null,r({}),r([]),r(r)];for(var s=2&n&&t;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=r(s))Object.getOwnPropertyNames(s).forEach(e=>i[e]=()=>t[e]);return i.default=()=>t,o.d(a,i),a}})(),o.d=(e,r)=>{for(var t in r)o.o(r,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce((r,t)=>(o.f[t](e,r),r),[])),o.u=e=>"static/js/"+(563===e?"recharts":e)+"."+{32:"6019d267",202:"ad918818",536:"3fe4fd3e",563:"add80d36",593:"3a070c8f",602:"50f02d1f",723:"f78d1f8e"}[e]+".chunk.js",o.miniCssF=e=>{},o.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{var e={},r="frontend:";o.l=(t,n,a,i)=>{if(e[t])e[t].push(n);else{var s,l;if(void 0!==a)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==t||u.getAttribute("data-webpack")==r+a){s=u;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.setAttribute("data-webpack",r+a),s.src=t),e[t]=[n];var x=(r,o)=>{s.onerror=s.onload=null,clearTimeout(h);var n=e[t];if(delete e[t],s.parentNode&&s.parentNode.removeChild(s),n&&n.forEach(e=>e(o)),r)return r(o)},h=setTimeout(x.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=x.bind(null,s.onerror),s.onload=x.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),o.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.p="/",(()=>{var e={792:0};o.f.j=(r,t)=>{var n=o.o(e,r)?e[r]:void 0;if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((o,t)=>n=e[r]=[o,t]);t.push(n[2]=a);var i=o.p+o.u(r),s=new Error;o.l(i,t=>{if(o.o(e,r)&&(0!==(n=e[r])&&(e[r]=void 0),n)){var a=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;s.message="Loading chunk "+r+" failed.\n("+a+": "+i+")",s.name="ChunkLoadError",s.type=a,s.request=i,n[1](s)}},"chunk-"+r,r)}},o.O.j=r=>0===e[r];var r=(r,t)=>{var n,a,i=t[0],s=t[1],l=t[2],d=0;if(i.some(r=>0!==e[r])){for(n in s)o.o(s,n)&&(o.m[n]=s[n]);if(l)var c=l(o)}for(r&&r(t);d<i.length;d++)a=i[d],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(c)},t=self.webpackChunkfrontend=self.webpackChunkfrontend||[];t.forEach(r.bind(null,0)),t.push=r.bind(null,t.push.bind(t))})();var t=o.O(void 0,[678,96],()=>o(3083));t=o.O(t)})();
//# sourceMappingURL=main.d7ed72b5.js.map